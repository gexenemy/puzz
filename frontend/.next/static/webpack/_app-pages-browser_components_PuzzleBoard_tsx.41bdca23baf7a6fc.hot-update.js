"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_PuzzleBoard_tsx",{

/***/ "(app-pages-browser)/./components/PuzzleBoard.tsx":
/*!************************************!*\
  !*** ./components/PuzzleBoard.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PuzzleBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"(app-pages-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! use-image */ \"(app-pages-browser)/./node_modules/use-image/index.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(use_image__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var yjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! yjs */ \"(app-pages-browser)/./node_modules/yjs/dist/yjs.mjs\");\n/* harmony import */ var y_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! y-websocket */ \"(app-pages-browser)/./node_modules/y-websocket/src/y-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n/* ===== Константы ===== */ const SCALE_BY = 1.05;\nconst MIN_SCALE = 0.3;\nconst MAX_SCALE = 3;\nconst SNAP_PX = 14;\nconst ROT_SNAP_DEG = 5;\n/* ===== Утилиты ===== */ function rafThrottle(fn) {\n    let ticking = false;\n    return function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (ticking) return;\n        ticking = true;\n        requestAnimationFrame(()=>{\n            fn(...args);\n            ticking = false;\n        });\n    };\n}\nfunction randomName() {\n    const a = [\n        \"Fox\",\n        \"Bear\",\n        \"Wolf\",\n        \"Cat\",\n        \"Dog\",\n        \"Owl\",\n        \"Hawk\",\n        \"Lion\",\n        \"Koala\",\n        \"Panda\",\n        \"Moose\",\n        \"Yak\",\n        \"Seal\",\n        \"Crab\",\n        \"Bee\"\n    ];\n    const b = Math.floor(100 + Math.random() * 900);\n    return \"\".concat(a[Math.floor(Math.random() * a.length)], \"-\").concat(b);\n}\nfunction randomColor() {\n    const colors = [\n        \"#ef4444\",\n        \"#f59e0b\",\n        \"#10b981\",\n        \"#3b82f6\",\n        \"#8b5cf6\",\n        \"#ec4899\",\n        \"#14b8a6\",\n        \"#84cc16\"\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n}\nconst makeMetaSig = (m)=>\"\".concat(m.width, \"x\").concat(m.height, \"|\").concat(m.rows, \"x\").concat(m.cols, \"|seed=\").concat(m.seed);\n/* ===== Компонент ===== */ function PuzzleBoard(param) {\n    let { sessionId, meta, initialPieces } = param;\n    _s();\n    const [img] = use_image__WEBPACK_IMPORTED_MODULE_3___default()(meta.imageUrl, \"anonymous\");\n    const [pieces, setPieces] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialPieces);\n    const [remoteCursors, setRemoteCursors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [locksView, setLocksView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    // viewport\n    const [viewport, setViewport] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        w: 0,\n        h: 0\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const upd = ()=>setViewport({\n                w: window.innerWidth,\n                h: window.innerHeight\n            });\n        upd();\n        window.addEventListener(\"resize\", upd);\n        return ()=>window.removeEventListener(\"resize\", upd);\n    }, []);\n    // stage transform + режим \"руки\" (панорамирование по Space)\n    const [scale, setScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [stagePos, setStagePos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const [isPanning, setIsPanning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPanDragging, setIsPanDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // обработка пробела\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKeyDown = (e)=>{\n            if (e.code === \"Space\") {\n                e.preventDefault();\n                setIsPanning(true);\n            }\n        };\n        const onKeyUp = (e)=>{\n            if (e.code === \"Space\") {\n                e.preventDefault();\n                setIsPanning(false);\n                setIsPanDragging(false);\n            }\n        };\n        window.addEventListener(\"keydown\", onKeyDown, {\n            passive: false\n        });\n        window.addEventListener(\"keyup\", onKeyUp, {\n            passive: false\n        });\n        return ()=>{\n            window.removeEventListener(\"keydown\", onKeyDown);\n            window.removeEventListener(\"keyup\", onKeyUp);\n        };\n    }, []);\n    // Yjs\n    const docRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yPiecesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yLocksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yMetaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const initedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const myNameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(randomName());\n    const myColorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(randomColor());\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const doc = new yjs__WEBPACK_IMPORTED_MODULE_4__.Doc();\n        const yws = \"ws://localhost:1234\" || 0;\n        const provider = new y_websocket__WEBPACK_IMPORTED_MODULE_5__.WebsocketProvider(yws, \"room:\".concat(sessionId), doc, {\n            connect: true\n        });\n        const yPieces = doc.getArray(\"pieces\");\n        const yLocks = doc.getMap(\"locks\");\n        const yMeta = doc.getMap(\"meta\");\n        docRef.current = doc;\n        providerRef.current = provider;\n        yPiecesRef.current = yPieces;\n        yLocksRef.current = yLocks;\n        yMetaRef.current = yMeta;\n        initedRef.current = false;\n        provider.awareness.setLocalState({\n            name: myNameRef.current,\n            color: myColorRef.current,\n            x: null,\n            y: null\n        });\n        provider.once(\"sync\", ()=>{\n            if (initedRef.current) return;\n            initedRef.current = true;\n            const expectedCount = meta.rows * meta.cols;\n            const currentCount = yPieces.length;\n            const currentSig = yMeta.get(\"sig\") || \"\";\n            const newSig = makeMetaSig(meta);\n            const mustReset = currentSig !== newSig || currentCount !== expectedCount;\n            doc.transact(()=>{\n                if (mustReset) {\n                    if (currentCount > 0) yPieces.delete(0, currentCount);\n                    initialPieces.forEach((p)=>yPieces.push([\n                            p\n                        ]));\n                    yLocks.clear();\n                    yMeta.set(\"sig\", newSig);\n                }\n            });\n            setPieces(yPieces.toArray());\n            setLocksView(new Map(Array.from(yLocks.entries())));\n        });\n        const subPieces = ()=>setPieces(yPieces.toArray());\n        const subLocks = ()=>setLocksView(new Map(Array.from(yLocks.entries())));\n        yPieces.observe(subPieces);\n        yLocks.observe(subLocks);\n        const onAwarenessChange = ()=>{\n            const states = provider.awareness.getStates();\n            const mineId = provider.awareness.clientID;\n            const live = new Set();\n            states.forEach((_st, id)=>live.add(id));\n            const remotes = [];\n            states.forEach((st, id)=>{\n                if (id === mineId || !st || st.x == null || st.y == null) return;\n                var _st_name, _st_color;\n                remotes.push({\n                    id,\n                    x: st.x,\n                    y: st.y,\n                    name: (_st_name = st.name) !== null && _st_name !== void 0 ? _st_name : \"Guest\",\n                    color: (_st_color = st.color) !== null && _st_color !== void 0 ? _st_color : \"#3b82f6\"\n                });\n            });\n            setRemoteCursors(remotes);\n            // зачистка локов «мертвых» клиентов\n            const yL = yLocksRef.current;\n            if (!yL) return;\n            let changed = false;\n            yL.forEach((lock, pid)=>{\n                if (!live.has(lock.by)) {\n                    var _docRef_current;\n                    (_docRef_current = docRef.current) === null || _docRef_current === void 0 ? void 0 : _docRef_current.transact(()=>yL.delete(pid));\n                    changed = true;\n                }\n            });\n            if (changed) setLocksView(new Map(Array.from(yL.entries())));\n        };\n        provider.awareness.on(\"change\", onAwarenessChange);\n        return ()=>{\n            yPieces.unobserve(subPieces);\n            yLocks.unobserve(subLocks);\n            provider.awareness.off(\"change\", onAwarenessChange);\n            provider.destroy();\n            doc.destroy();\n        };\n    }, [\n        sessionId,\n        initialPieces,\n        meta.width,\n        meta.height,\n        meta.rows,\n        meta.cols,\n        meta.seed\n    ]);\n    /* ===== helpers ===== */ const pointerToWorld = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const stage = stageRef.current;\n        if (!stage) return {\n            x: 0,\n            y: 0\n        };\n        const p = stage.getPointerPosition();\n        if (!p) return {\n            x: 0,\n            y: 0\n        };\n        const sx = stage.scaleX(), sy = stage.scaleY();\n        const tx = stage.x(), ty = stage.y();\n        return {\n            x: (p.x - tx) / sx,\n            y: (p.y - ty) / sy\n        };\n    }, []);\n    const updateMyCursor = rafThrottle(()=>{\n        const provider = providerRef.current;\n        if (!provider) return;\n        const { x, y } = pointerToWorld();\n        provider.awareness.setLocalStateField(\"x\", x);\n        provider.awareness.setLocalStateField(\"y\", y);\n    });\n    // зум вокруг курсора\n    const onWheel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        e.evt.preventDefault();\n        const stage = stageRef.current;\n        if (!stage) return;\n        const oldScale = stage.scaleX();\n        const pointer = stage.getPointerPosition();\n        if (!pointer) return;\n        const mousePointTo = {\n            x: (pointer.x - stage.x()) / oldScale,\n            y: (pointer.y - stage.y()) / oldScale\n        };\n        const dir = e.evt.deltaY > 0 ? 1 : -1;\n        let newScale = dir > 0 ? oldScale / SCALE_BY : oldScale * SCALE_BY;\n        newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n        const newPos = {\n            x: pointer.x - mousePointTo.x * newScale,\n            y: pointer.y - mousePointTo.y * newScale\n        };\n        setScale(newScale);\n        setStagePos(newPos);\n    }, []);\n    const zoomReset = ()=>{\n        setScale(1);\n        setStagePos({\n            x: 0,\n            y: 0\n        });\n    };\n    // yjs updates\n    const myId = ()=>{\n        var _providerRef_current;\n        return (_providerRef_current = providerRef.current) === null || _providerRef_current === void 0 ? void 0 : _providerRef_current.awareness.clientID;\n    };\n    const myName = ()=>myNameRef.current;\n    const myColor = ()=>myColorRef.current;\n    const acquireLock = (pieceId)=>{\n        const yLocks = yLocksRef.current, doc = docRef.current;\n        const ownerId = myId();\n        if (!yLocks || !doc || ownerId == null) return false;\n        const cur = yLocks.get(pieceId);\n        if (cur && cur.by !== ownerId) return false;\n        const info = {\n            by: ownerId,\n            name: myName(),\n            color: myColor(),\n            ts: Date.now()\n        };\n        doc.transact(()=>yLocks.set(pieceId, info));\n        return true;\n    };\n    const releaseLock = (pieceId)=>{\n        const yLocks = yLocksRef.current, doc = docRef.current;\n        if (!yLocks || !doc) return;\n        const cur = yLocks.get(pieceId);\n        if (cur && cur.by === myId()) doc.transact(()=>yLocks.delete(pieceId));\n    };\n    const isLockedByOther = (pieceId)=>{\n        const cur = locksView.get(pieceId);\n        return cur && cur.by !== myId() ? cur : null;\n    };\n    const updatePieceAt = (idx, patch)=>{\n        const yPieces = yPiecesRef.current, doc = docRef.current;\n        if (!yPieces || !doc) return;\n        const cur = yPieces.get(idx);\n        if (!cur) return;\n        const next = {\n            ...cur,\n            ...patch\n        };\n        doc.transact(()=>{\n            yPieces.delete(idx, 1);\n            yPieces.insert(idx, [\n                next\n            ]);\n        });\n    };\n    const onDragStart = (id, target, e)=>{\n        if (isPanning) {\n            try {\n                target.stopDrag();\n            } catch (e) {}\n            return;\n        }\n        const lock = isLockedByOther(id);\n        if (lock) {\n            try {\n                target.stopDrag();\n                const x0 = target.x();\n                target.to({\n                    x: x0 + 6,\n                    duration: 0.06\n                });\n                target.to({\n                    x: x0,\n                    duration: 0.06\n                });\n            } catch (e) {}\n            return;\n        }\n        if (e) e.cancelBubble = true;\n        acquireLock(id);\n    };\n    const onDragMove = rafThrottle((id, x, y, e)=>{\n        if (isPanning) return;\n        if (isLockedByOther(id)) return;\n        const yPieces = yPiecesRef.current;\n        if (!yPieces) return;\n        const arr = yPieces.toArray();\n        const idx = arr.findIndex((p)=>p.id === id);\n        if (idx < 0) return;\n        if (e) e.cancelBubble = true;\n        updatePieceAt(idx, {\n            currentX: x,\n            currentY: y\n        });\n    });\n    const onDragEnd = (id, e)=>{\n        if (isPanning) return;\n        if (isLockedByOther(id)) return;\n        const yPieces = yPiecesRef.current;\n        if (!yPieces) return;\n        const arr = yPieces.toArray();\n        const idx = arr.findIndex((p)=>p.id === id);\n        if (idx < 0) return;\n        const p = arr[idx];\n        const near = Math.hypot(p.currentX - p.targetX, p.currentY - p.targetY);\n        const rotOk = Math.abs((p.currentRotation || 0) - 0) <= ROT_SNAP_DEG;\n        if (near <= SNAP_PX && rotOk) {\n            updatePieceAt(idx, {\n                currentX: Math.round(p.targetX),\n                currentY: Math.round(p.targetY),\n                currentRotation: 0,\n                placed: true\n            });\n        }\n        if (e) e.cancelBubble = true;\n        releaseLock(id);\n    };\n    // NEW: полный сброс комнаты (очистить и положить initialPieces заново)\n    const hardReset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const doc = docRef.current;\n        const yPieces = yPiecesRef.current;\n        const yLocks = yLocksRef.current;\n        const yMeta = yMetaRef.current;\n        if (!doc || !yPieces || !yLocks || !yMeta) return;\n        const newSig = makeMetaSig(meta);\n        doc.transact(()=>{\n            if (yPieces.length) yPieces.delete(0, yPieces.length);\n            yLocks.clear();\n            initialPieces.forEach((p)=>yPieces.push([\n                    p\n                ]));\n            yMeta.set(\"sig\", newSig);\n        });\n    }, [\n        initialPieces,\n        meta\n    ]);\n    // курсоры\n    const Cursor = (param)=>{\n        let { x, y, name, color } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n            x: x,\n            y: y,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Path, {\n                    data: \"M 0 0 L 12 24 L 16 16 Z\",\n                    fill: color,\n                    stroke: \"rgba(0,0,0,0.5)\",\n                    strokeWidth: 1\n                }, void 0, false, {\n                    fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                    lineNumber: 347,\n                    columnNumber: 13\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                    x: 20,\n                    y: 8,\n                    text: name,\n                    fontSize: 12,\n                    fill: color\n                }, void 0, false, {\n                    fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                    lineNumber: 348,\n                    columnNumber: 13\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n            lineNumber: 346,\n            columnNumber: 9\n        }, this);\n    };\n    if (viewport.w === 0 || viewport.h === 0) return null;\n    const cursor = isPanning ? isPanDragging ? \"grabbing\" : \"grab\" : \"default\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            inset: 0,\n            cursor\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    zIndex: 10,\n                    right: 12,\n                    top: 12,\n                    display: \"flex\",\n                    gap: 8,\n                    background: \"rgba(255,255,255,0.8)\",\n                    borderRadius: 8,\n                    padding: 6,\n                    boxShadow: \"0 2px 8px rgba(0,0,0,.15)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setScale((s)=>Math.max(MIN_SCALE, s / SCALE_BY)),\n                        style: {\n                            padding: \"6px 10px\",\n                            borderRadius: 6,\n                            border: \"1px solid #ddd\"\n                        },\n                        children: \"−\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setScale((s)=>Math.min(MAX_SCALE, s * SCALE_BY)),\n                        style: {\n                            padding: \"6px 10px\",\n                            borderRadius: 6,\n                            border: \"1px solid #ddd\"\n                        },\n                        children: \"+\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 364,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: zoomReset,\n                        style: {\n                            padding: \"6px 10px\",\n                            borderRadius: 6,\n                            border: \"1px solid #ddd\"\n                        },\n                        children: \"Reset view\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 365,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: hardReset,\n                        style: {\n                            padding: \"6px 10px\",\n                            borderRadius: 6,\n                            border: \"1px solid #ddd\",\n                            background: \"#fffbe6\"\n                        },\n                        children: \"Reset room\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 368,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            marginLeft: 8,\n                            fontSize: 12,\n                            opacity: .7\n                        },\n                        children: [\n                            \"(Hold \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                children: \"Space\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                lineNumber: 372,\n                                columnNumber: 81\n                            }, this),\n                            \" to pan)\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 372,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                lineNumber: 359,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                width: viewport.w,\n                height: viewport.h,\n                ref: stageRef,\n                draggable: isPanning,\n                x: stagePos.x,\n                y: stagePos.y,\n                // реагируем только на drag Stage\n                onDragStart: (e)=>{\n                    if (!isPanning) return;\n                    if (e.target !== stageRef.current) return;\n                    setIsPanDragging(true);\n                },\n                onDragEnd: (e)=>{\n                    if (!isPanning) return;\n                    if (e.target !== stageRef.current) return;\n                    setIsPanDragging(false);\n                    const st = stageRef.current;\n                    setStagePos({\n                        x: st.x(),\n                        y: st.y()\n                    });\n                },\n                scaleX: scale,\n                scaleY: scale,\n                onMouseMove: updateMyCursor,\n                onTouchMove: updateMyCursor,\n                onWheel: onWheel,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                        listening: false,\n                        children: img && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Image, {\n                            image: img,\n                            x: 0,\n                            y: 0,\n                            width: meta.width,\n                            height: meta.height,\n                            opacity: 0.15\n                        }, void 0, false, {\n                            fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                            lineNumber: 403,\n                            columnNumber: 29\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 402,\n                        columnNumber: 17\n                    }, this),\n                    img && pieces.map((piece)=>{\n                        var _providerRef_current;\n                        const lock = locksView.get(piece.id);\n                        const isMine = (lock === null || lock === void 0 ? void 0 : lock.by) === ((_providerRef_current = providerRef.current) === null || _providerRef_current === void 0 ? void 0 : _providerRef_current.awareness.clientID);\n                        const isLocked = Boolean(lock);\n                        const outline = piece.placed ? \"#4ade80\" : isLocked ? lock.color || \"#f59e0b\" : \"#111\";\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                                x: Math.round(piece.currentX),\n                                y: Math.round(piece.currentY),\n                                draggable: !isPanning && (!isLocked || isMine),\n                                rotation: piece.currentRotation,\n                                onDragStart: (e)=>onDragStart(piece.id, e.target, e.evt),\n                                onDragMove: (e)=>onDragMove(piece.id, e.target.x(), e.target.y(), e.evt),\n                                onDragEnd: (e)=>onDragEnd(piece.id, e.evt),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Image, {\n                                        image: img,\n                                        x: -piece.clipBBox.x,\n                                        y: -piece.clipBBox.y,\n                                        width: meta.width,\n                                        height: meta.height,\n                                        listening: false\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 424,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Path, {\n                                        x: -piece.clipBBox.x,\n                                        y: -piece.clipBBox.y,\n                                        data: piece.path,\n                                        fill: \"black\",\n                                        globalCompositeOperation: \"destination-in\",\n                                        listening: false,\n                                        perfectDrawEnabled: false\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 432,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Path, {\n                                        x: -piece.clipBBox.x,\n                                        y: -piece.clipBBox.y,\n                                        data: piece.path,\n                                        fillEnabled: false,\n                                        stroke: outline,\n                                        strokeWidth: piece.placed ? 0.75 : 1,\n                                        perfectDrawEnabled: false\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 441,\n                                        columnNumber: 33\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Path, {\n                                        x: -piece.clipBBox.x,\n                                        y: -piece.clipBBox.y,\n                                        data: piece.path,\n                                        fill: isPanning ? \"rgba(0,0,0,0)\" : \"rgba(0,0,0,0.001)\",\n                                        strokeEnabled: false,\n                                        listening: !isPanning,\n                                        perfectDrawEnabled: false\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 33\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                lineNumber: 415,\n                                columnNumber: 29\n                            }, this)\n                        }, piece.id, false, {\n                            fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                            lineNumber: 414,\n                            columnNumber: 25\n                        }, this);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                        listening: false,\n                        children: remoteCursors.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                                x: c.x,\n                                y: c.y,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Path, {\n                                        data: \"M 0 0 L 12 24 L 16 16 Z\",\n                                        fill: c.color,\n                                        stroke: \"rgba(0,0,0,0.5)\",\n                                        strokeWidth: 1\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 469,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                        x: 20,\n                                        y: 8,\n                                        text: c.name,\n                                        fontSize: 12,\n                                        fill: c.color\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                        lineNumber: 470,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, c.id, true, {\n                                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                                lineNumber: 468,\n                                columnNumber: 25\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 466,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                        listening: false,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                            x: 0,\n                            y: meta.height + 8,\n                            width: viewport.w,\n                            height: Math.max(viewport.h - meta.height - 8, 0),\n                            stroke: \"#ddd\",\n                            dash: [\n                                4,\n                                4\n                            ]\n                        }, void 0, false, {\n                            fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                            lineNumber: 477,\n                            columnNumber: 21\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 476,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                lineNumber: 375,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n        lineNumber: 357,\n        columnNumber: 9\n    }, this);\n}\n_s(PuzzleBoard, \"bojAv+ntnwoGl33SCyH+T74+Hjc=\", false, function() {\n    return [\n        (use_image__WEBPACK_IMPORTED_MODULE_3___default())\n    ];\n});\n_c = PuzzleBoard;\nvar _c;\n$RefreshReg$(_c, \"PuzzleBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUHV6emxlQm9hcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRWdFO0FBQ3dCO0FBQ3hEO0FBQ1I7QUFDdUI7QUFnQy9DLHlCQUF5QixHQUN6QixNQUFNZSxXQUFXO0FBQ2pCLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsWUFBWTtBQUNsQixNQUFNQyxVQUFVO0FBQ2hCLE1BQU1DLGVBQWU7QUFFckIsdUJBQXVCLEdBQ3ZCLFNBQVNDLFlBQWdEQyxFQUFLO0lBQzFELElBQUlDLFVBQVU7SUFDZCxPQUFPO3lDQUFJQztZQUFBQTs7UUFDUCxJQUFJRCxTQUFTO1FBQ2JBLFVBQVU7UUFDVkUsc0JBQXNCO1lBQ2xCSCxNQUFNRTtZQUNORCxVQUFVO1FBQ2Q7SUFDSjtBQUNKO0FBQ0EsU0FBU0c7SUFDTCxNQUFNQyxJQUFJO1FBQUM7UUFBTTtRQUFPO1FBQU87UUFBTTtRQUFNO1FBQU07UUFBTztRQUFPO1FBQVE7UUFBUTtRQUFRO1FBQU07UUFBTztRQUFPO0tBQU07SUFDakgsTUFBTUMsSUFBSUMsS0FBS0MsS0FBSyxDQUFDLE1BQU1ELEtBQUtFLE1BQU0sS0FBRztJQUN6QyxPQUFPLEdBQTRDSCxPQUF6Q0QsQ0FBQyxDQUFDRSxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBR0osRUFBRUssTUFBTSxFQUFFLEVBQUMsS0FBSyxPQUFGSjtBQUN2RDtBQUNBLFNBQVNLO0lBQ0wsTUFBTUMsU0FBUztRQUFDO1FBQVU7UUFBVTtRQUFVO1FBQVU7UUFBVTtRQUFVO1FBQVU7S0FBVTtJQUNoRyxPQUFPQSxNQUFNLENBQUNMLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFHRyxPQUFPRixNQUFNLEVBQUU7QUFDMUQ7QUFDQSxNQUFNRyxjQUFjLENBQUNDLElBQ2pCLEdBQWNBLE9BQVhBLEVBQUVDLEtBQUssRUFBQyxLQUFlRCxPQUFaQSxFQUFFRSxNQUFNLEVBQUMsS0FBYUYsT0FBVkEs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LENBQUM7Z0NBQUVDLEdBQUcrTCxFQUFFL0wsQ0FBQzs7a0RBQzVCLDhEQUFDNUQsNkNBQUlBO3dDQUFDOE0sTUFBSzt3Q0FBMEJDLE1BQU00QyxFQUFFMUosS0FBSzt3Q0FBRStHLFFBQU87d0NBQWtCQyxhQUFhOzs7Ozs7a0RBQzFGLDhEQUFDL00sNkNBQUlBO3dDQUFDeUQsR0FBRzt3Q0FBSUMsR0FBRzt3Q0FBR3NKLE1BQU15QyxFQUFFM0osSUFBSTt3Q0FBRW1ILFVBQVU7d0NBQUlKLE1BQU00QyxFQUFFMUosS0FBSzs7Ozs7OzsrQkFGcEQwSixFQUFFNUgsRUFBRTs7Ozs7Ozs7OztrQ0FReEIsOERBQUNuSSw4Q0FBS0E7d0JBQUNnUCxXQUFXO2tDQUNkLDRFQUFDM08sNkNBQUlBOzRCQUNEMEQsR0FBRzs0QkFDSEMsR0FBRzFCLEtBQUtOLE1BQU0sR0FBRzs0QkFDakJELE9BQU9rQixTQUFTRSxDQUFDOzRCQUNqQm5CLFFBQVFULEtBQUs2SSxHQUFHLENBQUNuSCxTQUFTRyxDQUFDLEdBQUdkLEtBQUtOLE1BQU0sR0FBRyxHQUFHOzRCQUMvQ29MLFFBQU87NEJBQ1A0QyxNQUFNO2dDQUFDO2dDQUFHOzZCQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1wQztHQWxhd0I1Tjs7UUFTTjdCLGtEQUFRQTs7O0tBVEY2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1B1enpsZUJvYXJkLnRzeD85Njk1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBTdGFnZSwgTGF5ZXIsIEltYWdlIGFzIEtvbnZhSW1hZ2UsIEdyb3VwLCBQYXRoLCBSZWN0LCBUZXh0IH0gZnJvbSAncmVhY3Qta29udmEnXHJcbmltcG9ydCB1c2VJbWFnZSBmcm9tICd1c2UtaW1hZ2UnXHJcbmltcG9ydCAqIGFzIFkgZnJvbSAneWpzJ1xyXG5pbXBvcnQgeyBXZWJzb2NrZXRQcm92aWRlciB9IGZyb20gJ3ktd2Vic29ja2V0J1xyXG5cclxuLyogPT09PT0g0KLQuNC/0YsgPT09PT0gKi9cclxudHlwZSBQdXp6bGVNZXRhID0ge1xyXG4gICAgaW1hZ2VVcmw6IHN0cmluZ1xyXG4gICAgd2lkdGg6IG51bWJlclxyXG4gICAgaGVpZ2h0OiBudW1iZXJcclxuICAgIHJvd3M6IG51bWJlclxyXG4gICAgY29sczogbnVtYmVyXHJcbiAgICBzZWVkOiBudW1iZXJcclxuICAgIHN0YWdlV2lkdGg6IG51bWJlclxyXG4gICAgc3RhZ2VIZWlnaHQ6IG51bWJlclxyXG59XHJcblxyXG50eXBlIFBpZWNlU3RhdGUgPSB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICByb3c6IG51bWJlclxyXG4gICAgY29sOiBudW1iZXJcclxuICAgIHRhcmdldFg6IG51bWJlclxyXG4gICAgdGFyZ2V0WTogbnVtYmVyXHJcbiAgICByb3RhdGlvbjogbnVtYmVyXHJcbiAgICBjdXJyZW50WDogbnVtYmVyXHJcbiAgICBjdXJyZW50WTogbnVtYmVyXHJcbiAgICBjdXJyZW50Um90YXRpb246IG51bWJlclxyXG4gICAgcGxhY2VkOiBib29sZWFuXHJcbiAgICBwYXRoOiBzdHJpbmdcclxuICAgIGNsaXBCQm94OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB3OiBudW1iZXI7IGg6IG51bWJlciB9XHJcbn1cclxuXHJcbnR5cGUgTG9ja0luZm8gPSB7IGJ5OiBudW1iZXI7IG5hbWU6IHN0cmluZzsgY29sb3I6IHN0cmluZzsgdHM6IG51bWJlciB9XHJcbnR5cGUgUmVtb3RlQ3Vyc29yID0geyBpZDogbnVtYmVyOyB4OiBudW1iZXI7IHk6IG51bWJlcjsgbmFtZTogc3RyaW5nOyBjb2xvcjogc3RyaW5nIH1cclxuXHJcbi8qID09PT09INCa0L7QvdGB0YLQsNC90YLRiyA9PT09PSAqL1xyXG5jb25zdCBTQ0FMRV9CWSA9IDEuMDVcclxuY29uc3QgTUlOX1NDQUxFID0gMC4zXHJcbmNvbnN0IE1BWF9TQ0FMRSA9IDNcclxuY29uc3QgU05BUF9QWCA9IDE0XHJcbmNvbnN0IFJPVF9TTkFQX0RFRyA9IDVcclxuXHJcbi8qID09PT09INCj0YLQuNC70LjRgtGLID09PT09ICovXHJcbmZ1bmN0aW9uIHJhZlRocm90dGxlPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IHZvaWQ+KGZuOiBUKSB7XHJcbiAgICBsZXQgdGlja2luZyA9IGZhbHNlXHJcbiAgICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcclxuICAgICAgICBpZiAodGlja2luZykgcmV0dXJuXHJcbiAgICAgICAgdGlja2luZyA9IHRydWVcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICBmbiguLi5hcmdzKVxyXG4gICAgICAgICAgICB0aWNraW5nID0gZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJhbmRvbU5hbWUoKSB7XHJcbiAgICBjb25zdCBhID0gWydGb3gnLCdCZWFyJywnV29sZicsJ0NhdCcsJ0RvZycsJ093bCcsJ0hhd2snLCdMaW9uJywnS29hbGEnLCdQYW5kYScsJ01vb3NlJywnWWFrJywnU2VhbCcsJ0NyYWInLCdCZWUnXVxyXG4gICAgY29uc3QgYiA9IE1hdGguZmxvb3IoMTAwICsgTWF0aC5yYW5kb20oKSo5MDApXHJcbiAgICByZXR1cm4gYCR7YVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYS5sZW5ndGgpXX0tJHtifWBcclxufVxyXG5mdW5jdGlvbiByYW5kb21Db2xvcigpIHtcclxuICAgIGNvbnN0IGNvbG9ycyA9IFsnI2VmNDQ0NCcsJyNmNTllMGInLCcjMTBiOTgxJywnIzNiODJmNicsJyM4YjVjZjYnLCcjZWM0ODk5JywnIzE0YjhhNicsJyM4NGNjMTYnXVxyXG4gICAgcmV0dXJuIGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqY29sb3JzLmxlbmd0aCldXHJcbn1cclxuY29uc3QgbWFrZU1ldGFTaWcgPSAobTogUHV6emxlTWV0YSkgPT5cclxuICAgIGAke20ud2lkdGh9eCR7bS5oZWlnaHR9fCR7bS5yb3dzfXgke20uY29sc318c2VlZD0ke20uc2VlZH1gXHJcblxyXG4vKiA9PT09PSDQmtC+0LzQv9C+0L3QtdC90YIgPT09PT0gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHV6emxlQm9hcmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxQaWVjZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH06IHtcclxuICAgIHNlc3Npb25JZDogc3RyaW5nXHJcbiAgICBtZXRhOiBQdXp6bGVNZXRhXHJcbiAgICBpbml0aWFsUGllY2VzOiBQaWVjZVN0YXRlW11cclxufSkge1xyXG4gICAgY29uc3QgW2ltZ10gPSB1c2VJbWFnZShtZXRhLmltYWdlVXJsLCAnYW5vbnltb3VzJylcclxuICAgIGNvbnN0IFtwaWVjZXMsIHNldFBpZWNlc10gPSB1c2VTdGF0ZTxQaWVjZVN0YXRlW10+KGluaXRpYWxQaWVjZXMpXHJcbiAgICBjb25zdCBbcmVtb3RlQ3Vyc29ycywgc2V0UmVtb3RlQ3Vyc29yc10gPSB1c2VTdGF0ZTxSZW1vdGVDdXJzb3JbXT4oW10pXHJcbiAgICBjb25zdCBbbG9ja3NWaWV3LCBzZXRMb2Nrc1ZpZXddID0gdXNlU3RhdGU8TWFwPHN0cmluZywgTG9ja0luZm8+PihuZXcgTWFwKCkpXHJcblxyXG4gICAgLy8gdmlld3BvcnRcclxuICAgIGNvbnN0IFt2aWV3cG9ydCwgc2V0Vmlld3BvcnRdID0gdXNlU3RhdGUoeyB3OiAwLCBoOiAwIH0pXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZCA9ICgpID0+IHNldFZpZXdwb3J0KHsgdzogd2luZG93LmlubmVyV2lkdGgsIGg6IHdpbmRvdy5pbm5lckhlaWdodCB9KVxyXG4gICAgICAgIHVwZCgpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZClcclxuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZClcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIC8vIHN0YWdlIHRyYW5zZm9ybSArINGA0LXQttC40LwgXCLRgNGD0LrQuFwiICjQv9Cw0L3QvtGA0LDQvNC40YDQvtCy0LDQvdC40LUg0L/QviBTcGFjZSlcclxuICAgIGNvbnN0IFtzY2FsZSwgc2V0U2NhbGVdID0gdXNlU3RhdGUoMSlcclxuICAgIGNvbnN0IFtzdGFnZVBvcywgc2V0U3RhZ2VQb3NdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pXHJcbiAgICBjb25zdCBbaXNQYW5uaW5nLCBzZXRJc1Bhbm5pbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICBjb25zdCBbaXNQYW5EcmFnZ2luZywgc2V0SXNQYW5EcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IHN0YWdlUmVmID0gdXNlUmVmPGFueT4obnVsbClcclxuXHJcbiAgICAvLyDQvtCx0YDQsNCx0L7RgtC60LAg0L/RgNC+0LHQtdC70LBcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb25LZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykgeyBlLnByZXZlbnREZWZhdWx0KCk7IHNldElzUGFubmluZyh0cnVlKSB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9uS2V5VXAgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnU3BhY2UnKSB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0SXNQYW5uaW5nKGZhbHNlKTsgc2V0SXNQYW5EcmFnZ2luZyhmYWxzZSkgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uS2V5VXAsIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biBhcyBhbnkpXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIG9uS2V5VXAgYXMgYW55KVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtdKVxyXG5cclxuICAgIC8vIFlqc1xyXG4gICAgY29uc3QgZG9jUmVmID0gdXNlUmVmPFkuRG9jPigpXHJcbiAgICBjb25zdCBwcm92aWRlclJlZiA9IHVzZVJlZjxXZWJzb2NrZXRQcm92aWRlcj4oKVxyXG4gICAgY29uc3QgeVBpZWNlc1JlZiA9IHVzZVJlZjxZLkFycmF5PFBpZWNlU3RhdGU+PigpXHJcbiAgICBjb25zdCB5TG9ja3NSZWYgPSB1c2VSZWY8WS5NYXA8TG9ja0luZm8+PigpXHJcbiAgICBjb25zdCB5TWV0YVJlZiAgPSB1c2VSZWY8WS5NYXA8YW55Pj4oKVxyXG4gICAgY29uc3QgaW5pdGVkUmVmID0gdXNlUmVmKGZhbHNlKVxyXG5cclxuICAgIGNvbnN0IG15TmFtZVJlZiA9IHVzZVJlZjxzdHJpbmc+KHJhbmRvbU5hbWUoKSlcclxuICAgIGNvbnN0IG15Q29sb3JSZWYgPSB1c2VSZWY8c3RyaW5nPihyYW5kb21Db2xvcigpKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZG9jID0gbmV3IFkuRG9jKClcclxuICAgICAgICBjb25zdCB5d3MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19ZV1NfVVJMIHx8ICd3czovL2xvY2FsaG9zdDoxMjM0J1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IFdlYnNvY2tldFByb3ZpZGVyKHl3cywgYHJvb206JHtzZXNzaW9uSWR9YCwgZG9jLCB7IGNvbm5lY3Q6IHRydWUgfSlcclxuXHJcbiAgICAgICAgY29uc3QgeVBpZWNlcyA9IGRvYy5nZXRBcnJheTxQaWVjZVN0YXRlPigncGllY2VzJylcclxuICAgICAgICBjb25zdCB5TG9ja3MgID0gZG9jLmdldE1hcDxMb2NrSW5mbz4oJ2xvY2tzJylcclxuICAgICAgICBjb25zdCB5TWV0YSAgID0gZG9jLmdldE1hcDxhbnk+KCdtZXRhJylcclxuXHJcbiAgICAgICAgZG9jUmVmLmN1cnJlbnQgPSBkb2NcclxuICAgICAgICBwcm92aWRlclJlZi5jdXJyZW50ID0gcHJvdmlkZXJcclxuICAgICAgICB5UGllY2VzUmVmLmN1cnJlbnQgPSB5UGllY2VzXHJcbiAgICAgICAgeUxvY2tzUmVmLmN1cnJlbnQgID0geUxvY2tzXHJcbiAgICAgICAgeU1ldGFSZWYuY3VycmVudCAgID0geU1ldGFcclxuICAgICAgICBpbml0ZWRSZWYuY3VycmVudCAgPSBmYWxzZVxyXG5cclxuICAgICAgICBwcm92aWRlci5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZSh7IG5hbWU6IG15TmFtZVJlZi5jdXJyZW50LCBjb2xvcjogbXlDb2xvclJlZi5jdXJyZW50LCB4OiBudWxsLCB5OiBudWxsIH0pXHJcblxyXG4gICAgICAgIHByb3ZpZGVyLm9uY2UoJ3N5bmMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbml0ZWRSZWYuY3VycmVudCkgcmV0dXJuXHJcbiAgICAgICAgICAgIGluaXRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRDb3VudCA9IG1ldGEucm93cyAqIG1ldGEuY29sc1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgID0geVBpZWNlcy5sZW5ndGhcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZyAgICA9ICh5TWV0YS5nZXQoJ3NpZycpIGFzIHN0cmluZykgfHwgJydcclxuICAgICAgICAgICAgY29uc3QgbmV3U2lnICAgICAgICA9IG1ha2VNZXRhU2lnKG1ldGEpXHJcbiAgICAgICAgICAgIGNvbnN0IG11c3RSZXNldCA9IGN1cnJlbnRTaWcgIT09IG5ld1NpZyB8fCBjdXJyZW50Q291bnQgIT09IGV4cGVjdGVkQ291bnRcclxuXHJcbiAgICAgICAgICAgIGRvYy50cmFuc2FjdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobXVzdFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb3VudCA+IDApIHlQaWVjZXMuZGVsZXRlKDAsIGN1cnJlbnRDb3VudClcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsUGllY2VzLmZvckVhY2gocCA9PiB5UGllY2VzLnB1c2goW3BdKSlcclxuICAgICAgICAgICAgICAgICAgICB5TG9ja3MuY2xlYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIHlNZXRhLnNldCgnc2lnJywgbmV3U2lnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgc2V0UGllY2VzKHlQaWVjZXMudG9BcnJheSgpKVxyXG4gICAgICAgICAgICBzZXRMb2Nrc1ZpZXcobmV3IE1hcChBcnJheS5mcm9tKHlMb2Nrcy5lbnRyaWVzKCkpIGFzIGFueSkpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3Qgc3ViUGllY2VzID0gKCkgPT4gc2V0UGllY2VzKHlQaWVjZXMudG9BcnJheSgpKVxyXG4gICAgICAgIGNvbnN0IHN1YkxvY2tzICA9ICgpID0+IHNldExvY2tzVmlldyhuZXcgTWFwKEFycmF5LmZyb20oeUxvY2tzLmVudHJpZXMoKSkgYXMgYW55KSlcclxuICAgICAgICB5UGllY2VzLm9ic2VydmUoc3ViUGllY2VzKVxyXG4gICAgICAgIHlMb2Nrcy5vYnNlcnZlKHN1YkxvY2tzKVxyXG5cclxuICAgICAgICBjb25zdCBvbkF3YXJlbmVzc0NoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gcHJvdmlkZXIuYXdhcmVuZXNzLmdldFN0YXRlcygpXHJcbiAgICAgICAgICAgIGNvbnN0IG1pbmVJZCA9IHByb3ZpZGVyLmF3YXJlbmVzcy5jbGllbnRJRFxyXG4gICAgICAgICAgICBjb25zdCBsaXZlID0gbmV3IFNldDxudW1iZXI+KClcclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goKF9zdDogYW55LCBpZDogbnVtYmVyKSA9PiBsaXZlLmFkZChpZCkpXHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdGVzOiBSZW1vdGVDdXJzb3JbXSA9IFtdXHJcbiAgICAgICAgICAgIHN0YXRlcy5mb3JFYWNoKChzdDogYW55LCBpZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IG1pbmVJZCB8fCAhc3QgfHwgc3QueCA9PSBudWxsIHx8IHN0LnkgPT0gbnVsbCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICByZW1vdGVzLnB1c2goeyBpZCwgeDogc3QueCwgeTogc3QueSwgbmFtZTogc3QubmFtZSA/PyAnR3Vlc3QnLCBjb2xvcjogc3QuY29sb3IgPz8gJyMzYjgyZjYnIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHNldFJlbW90ZUN1cnNvcnMocmVtb3RlcylcclxuXHJcbiAgICAgICAgICAgIC8vINC30LDRh9C40YHRgtC60LAg0LvQvtC60L7QsiDCq9C80LXRgNGC0LLRi9GFwrsg0LrQu9C40LXQvdGC0L7QslxyXG4gICAgICAgICAgICBjb25zdCB5TCA9IHlMb2Nrc1JlZi5jdXJyZW50OyBpZiAoIXlMKSByZXR1cm5cclxuICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICB5TC5mb3JFYWNoKChsb2NrLCBwaWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghbGl2ZS5oYXMobG9jay5ieSkpIHsgZG9jUmVmLmN1cnJlbnQ/LnRyYW5zYWN0KCgpID0+IHlMLmRlbGV0ZShwaWQpKTsgY2hhbmdlZCA9IHRydWUgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoY2hhbmdlZCkgc2V0TG9ja3NWaWV3KG5ldyBNYXAoQXJyYXkuZnJvbSh5TC5lbnRyaWVzKCkpIGFzIGFueSkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5vbignY2hhbmdlJywgb25Bd2FyZW5lc3NDaGFuZ2UpXHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHlQaWVjZXMudW5vYnNlcnZlKHN1YlBpZWNlcylcclxuICAgICAgICAgICAgeUxvY2tzLnVub2JzZXJ2ZShzdWJMb2NrcylcclxuICAgICAgICAgICAgcHJvdmlkZXIuYXdhcmVuZXNzLm9mZignY2hhbmdlJywgb25Bd2FyZW5lc3NDaGFuZ2UpXHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmRlc3Ryb3koKVxyXG4gICAgICAgICAgICBkb2MuZGVzdHJveSgpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3Nlc3Npb25JZCwgaW5pdGlhbFBpZWNlcywgbWV0YS53aWR0aCwgbWV0YS5oZWlnaHQsIG1ldGEucm93cywgbWV0YS5jb2xzLCBtZXRhLnNlZWRdKVxyXG5cclxuICAgIC8qID09PT09IGhlbHBlcnMgPT09PT0gKi9cclxuICAgIGNvbnN0IHBvaW50ZXJUb1dvcmxkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudFxyXG4gICAgICAgIGlmICghc3RhZ2UpIHJldHVybiB7IHg6IDAsIHk6IDAgfVxyXG4gICAgICAgIGNvbnN0IHAgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKVxyXG4gICAgICAgIGlmICghcCkgcmV0dXJuIHsgeDogMCwgeTogMCB9XHJcbiAgICAgICAgY29uc3Qgc3ggPSBzdGFnZS5zY2FsZVgoKSwgc3kgPSBzdGFnZS5zY2FsZVkoKVxyXG4gICAgICAgIGNvbnN0IHR4ID0gc3RhZ2UueCgpLCB0eSA9IHN0YWdlLnkoKVxyXG4gICAgICAgIHJldHVybiB7IHg6IChwLnggLSB0eCkgLyBzeCwgeTogKHAueSAtIHR5KSAvIHN5IH1cclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZU15Q3Vyc29yID0gcmFmVGhyb3R0bGUoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJSZWYuY3VycmVudFxyXG4gICAgICAgIGlmICghcHJvdmlkZXIpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnRlclRvV29ybGQoKVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3gnLCB4KVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3knLCB5KVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyDQt9GD0Lwg0LLQvtC60YDRg9CzINC60YPRgNGB0L7RgNCwXHJcbiAgICBjb25zdCBvbldoZWVsID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4ge1xyXG4gICAgICAgIGUuZXZ0LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBjb25zdCBzdGFnZSA9IHN0YWdlUmVmLmN1cnJlbnRcclxuICAgICAgICBpZiAoIXN0YWdlKSByZXR1cm5cclxuXHJcbiAgICAgICAgY29uc3Qgb2xkU2NhbGUgPSBzdGFnZS5zY2FsZVgoKVxyXG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKVxyXG4gICAgICAgIGlmICghcG9pbnRlcikgcmV0dXJuXHJcblxyXG4gICAgICAgIGNvbnN0IG1vdXNlUG9pbnRUbyA9IHtcclxuICAgICAgICAgICAgeDogKHBvaW50ZXIueCAtIHN0YWdlLngoKSkgLyBvbGRTY2FsZSxcclxuICAgICAgICAgICAgeTogKHBvaW50ZXIueSAtIHN0YWdlLnkoKSkgLyBvbGRTY2FsZSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRpciA9IGUuZXZ0LmRlbHRhWSA+IDAgPyAxIDogLTFcclxuICAgICAgICBsZXQgbmV3U2NhbGUgPSBkaXIgPiAwID8gb2xkU2NhbGUgLyBTQ0FMRV9CWSA6IG9sZFNjYWxlICogU0NBTEVfQllcclxuICAgICAgICBuZXdTY2FsZSA9IE1hdGgubWF4KE1JTl9TQ0FMRSwgTWF0aC5taW4oTUFYX1NDQUxFLCBuZXdTY2FsZSkpXHJcblxyXG4gICAgICAgIGNvbnN0IG5ld1BvcyA9IHtcclxuICAgICAgICAgICAgeDogcG9pbnRlci54IC0gbW91c2VQb2ludFRvLnggKiBuZXdTY2FsZSxcclxuICAgICAgICAgICAgeTogcG9pbnRlci55IC0gbW91c2VQb2ludFRvLnkgKiBuZXdTY2FsZSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFNjYWxlKG5ld1NjYWxlKVxyXG4gICAgICAgIHNldFN0YWdlUG9zKG5ld1BvcylcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IHpvb21SZXNldCA9ICgpID0+IHsgc2V0U2NhbGUoMSk7IHNldFN0YWdlUG9zKHsgeDogMCwgeTogMCB9KSB9XHJcblxyXG4gICAgLy8geWpzIHVwZGF0ZXNcclxuICAgIGNvbnN0IG15SWQgPSAoKSA9PiBwcm92aWRlclJlZi5jdXJyZW50Py5hd2FyZW5lc3MuY2xpZW50SUQgYXMgbnVtYmVyXHJcbiAgICBjb25zdCBteU5hbWUgPSAoKSA9PiBteU5hbWVSZWYuY3VycmVudFxyXG4gICAgY29uc3QgbXlDb2xvciA9ICgpID0+IG15Q29sb3JSZWYuY3VycmVudFxyXG5cclxuICAgIGNvbnN0IGFjcXVpcmVMb2NrID0gKHBpZWNlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgIGNvbnN0IHlMb2NrcyA9IHlMb2Nrc1JlZi5jdXJyZW50LCBkb2MgPSBkb2NSZWYuY3VycmVudFxyXG4gICAgICAgIGNvbnN0IG93bmVySWQgPSBteUlkKClcclxuICAgICAgICBpZiAoIXlMb2NrcyB8fCAhZG9jIHx8IG93bmVySWQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgY29uc3QgY3VyID0geUxvY2tzLmdldChwaWVjZUlkKTsgaWYgKGN1ciAmJiBjdXIuYnkgIT09IG93bmVySWQpIHJldHVybiBmYWxzZVxyXG4gICAgICAgIGNvbnN0IGluZm86IExvY2tJbmZvID0geyBieTogb3duZXJJZCwgbmFtZTogbXlOYW1lKCksIGNvbG9yOiBteUNvbG9yKCksIHRzOiBEYXRlLm5vdygpIH1cclxuICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4geUxvY2tzLnNldChwaWVjZUlkLCBpbmZvKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVsZWFzZUxvY2sgPSAocGllY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeUxvY2tzID0geUxvY2tzUmVmLmN1cnJlbnQsIGRvYyA9IGRvY1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5TG9ja3MgfHwgIWRvYykgcmV0dXJuXHJcbiAgICAgICAgY29uc3QgY3VyID0geUxvY2tzLmdldChwaWVjZUlkKTsgaWYgKGN1ciAmJiBjdXIuYnkgPT09IG15SWQoKSkgZG9jLnRyYW5zYWN0KCgpID0+IHlMb2Nrcy5kZWxldGUocGllY2VJZCkpXHJcbiAgICB9XHJcbiAgICBjb25zdCBpc0xvY2tlZEJ5T3RoZXIgPSAocGllY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VyID0gbG9ja3NWaWV3LmdldChwaWVjZUlkKTsgcmV0dXJuIGN1ciAmJiBjdXIuYnkgIT09IG15SWQoKSA/IGN1ciA6IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVQaWVjZUF0ID0gKGlkeDogbnVtYmVyLCBwYXRjaDogUGFydGlhbDxQaWVjZVN0YXRlPikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHlQaWVjZXMgPSB5UGllY2VzUmVmLmN1cnJlbnQsIGRvYyA9IGRvY1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5UGllY2VzIHx8ICFkb2MpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IGN1ciA9IHlQaWVjZXMuZ2V0KGlkeCk7IGlmICghY3VyKSByZXR1cm5cclxuICAgICAgICBjb25zdCBuZXh0ID0geyAuLi5jdXIsIC4uLnBhdGNoIH1cclxuICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4geyB5UGllY2VzLmRlbGV0ZShpZHgsIDEpOyB5UGllY2VzLmluc2VydChpZHgsIFtuZXh0XSkgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvbkRyYWdTdGFydCA9IChpZDogc3RyaW5nLCB0YXJnZXQ6IGFueSwgZTogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGlzUGFubmluZykgeyB0cnkgeyB0YXJnZXQuc3RvcERyYWcoKSB9IGNhdGNoIHt9IDsgcmV0dXJuIH1cclxuICAgICAgICBjb25zdCBsb2NrID0gaXNMb2NrZWRCeU90aGVyKGlkKVxyXG4gICAgICAgIGlmIChsb2NrKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHRhcmdldC5zdG9wRHJhZygpOyBjb25zdCB4MD10YXJnZXQueCgpOyB0YXJnZXQudG8oeyB4OiB4MCs2LCBkdXJhdGlvbjowLjA2IH0pOyB0YXJnZXQudG8oeyB4OiB4MCwgZHVyYXRpb246MC4wNiB9KSB9IGNhdGNoIHt9XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZSkgZS5jYW5jZWxCdWJibGUgPSB0cnVlXHJcbiAgICAgICAgYWNxdWlyZUxvY2soaWQpXHJcbiAgICB9XHJcbiAgICBjb25zdCBvbkRyYWdNb3ZlID0gcmFmVGhyb3R0bGUoKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBlPzogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGlzUGFubmluZykgcmV0dXJuXHJcbiAgICAgICAgaWYgKGlzTG9ja2VkQnlPdGhlcihpZCkpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IHlQaWVjZXMgPSB5UGllY2VzUmVmLmN1cnJlbnRcclxuICAgICAgICBpZiAoIXlQaWVjZXMpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IGFyciA9IHlQaWVjZXMudG9BcnJheSgpXHJcbiAgICAgICAgY29uc3QgaWR4ID0gYXJyLmZpbmRJbmRleChwID0+IHAuaWQgPT09IGlkKTsgaWYgKGlkeCA8IDApIHJldHVyblxyXG4gICAgICAgIGlmIChlKSBlLmNhbmNlbEJ1YmJsZSA9IHRydWVcclxuICAgICAgICB1cGRhdGVQaWVjZUF0KGlkeCwgeyBjdXJyZW50WDogeCwgY3VycmVudFk6IHkgfSlcclxuICAgIH0pXHJcbiAgICBjb25zdCBvbkRyYWdFbmQgPSAoaWQ6IHN0cmluZywgZT86IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChpc1Bhbm5pbmcpIHJldHVyblxyXG4gICAgICAgIGlmIChpc0xvY2tlZEJ5T3RoZXIoaWQpKSByZXR1cm5cclxuICAgICAgICBjb25zdCB5UGllY2VzID0geVBpZWNlc1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5UGllY2VzKSByZXR1cm5cclxuICAgICAgICBjb25zdCBhcnIgPSB5UGllY2VzLnRvQXJyYXkoKVxyXG4gICAgICAgIGNvbnN0IGlkeCA9IGFyci5maW5kSW5kZXgocCA9PiBwLmlkID09PSBpZCk7IGlmIChpZHggPCAwKSByZXR1cm5cclxuICAgICAgICBjb25zdCBwID0gYXJyW2lkeF1cclxuICAgICAgICBjb25zdCBuZWFyID0gTWF0aC5oeXBvdChwLmN1cnJlbnRYIC0gcC50YXJnZXRYLCBwLmN1cnJlbnRZIC0gcC50YXJnZXRZKVxyXG4gICAgICAgIGNvbnN0IHJvdE9rID0gTWF0aC5hYnMoKHAuY3VycmVudFJvdGF0aW9uIHx8IDApIC0gMCkgPD0gUk9UX1NOQVBfREVHXHJcbiAgICAgICAgaWYgKG5lYXIgPD0gU05BUF9QWCAmJiByb3RPaykge1xyXG4gICAgICAgICAgICB1cGRhdGVQaWVjZUF0KGlkeCwge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFg6IE1hdGgucm91bmQocC50YXJnZXRYKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRZOiBNYXRoLnJvdW5kKHAudGFyZ2V0WSksXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Um90YXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlKSBlLmNhbmNlbEJ1YmJsZSA9IHRydWVcclxuICAgICAgICByZWxlYXNlTG9jayhpZClcclxuICAgIH1cclxuXHJcbiAgICAvLyBORVc6INC/0L7Qu9C90YvQuSDRgdCx0YDQvtGBINC60L7QvNC90LDRgtGLICjQvtGH0LjRgdGC0LjRgtGMINC4INC/0L7Qu9C+0LbQuNGC0YwgaW5pdGlhbFBpZWNlcyDQt9Cw0L3QvtCy0L4pXHJcbiAgICBjb25zdCBoYXJkUmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZG9jID0gZG9jUmVmLmN1cnJlbnRcclxuICAgICAgICBjb25zdCB5UGllY2VzID0geVBpZWNlc1JlZi5jdXJyZW50XHJcbiAgICAgICAgY29uc3QgeUxvY2tzICA9IHlMb2Nrc1JlZi5jdXJyZW50XHJcbiAgICAgICAgY29uc3QgeU1ldGEgICA9IHlNZXRhUmVmLmN1cnJlbnRcclxuICAgICAgICBpZiAoIWRvYyB8fCAheVBpZWNlcyB8fCAheUxvY2tzIHx8ICF5TWV0YSkgcmV0dXJuXHJcbiAgICAgICAgY29uc3QgbmV3U2lnID0gbWFrZU1ldGFTaWcobWV0YSlcclxuICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoeVBpZWNlcy5sZW5ndGgpIHlQaWVjZXMuZGVsZXRlKDAsIHlQaWVjZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICB5TG9ja3MuY2xlYXIoKVxyXG4gICAgICAgICAgICBpbml0aWFsUGllY2VzLmZvckVhY2gocCA9PiB5UGllY2VzLnB1c2goW3BdKSlcclxuICAgICAgICAgICAgeU1ldGEuc2V0KCdzaWcnLCBuZXdTaWcpXHJcbiAgICAgICAgfSlcclxuICAgIH0sIFtpbml0aWFsUGllY2VzLCBtZXRhXSlcclxuXHJcbiAgICAvLyDQutGD0YDRgdC+0YDRi1xyXG4gICAgY29uc3QgQ3Vyc29yID0gKHsgeCwgeSwgbmFtZSwgY29sb3IgfTogUmVtb3RlQ3Vyc29yKSA9PiAoXHJcbiAgICAgICAgPEdyb3VwIHg9e3h9IHk9e3l9PlxyXG4gICAgICAgICAgICA8UGF0aCBkYXRhPVwiTSAwIDAgTCAxMiAyNCBMIDE2IDE2IFpcIiBmaWxsPXtjb2xvcn0gc3Ryb2tlPVwicmdiYSgwLDAsMCwwLjUpXCIgc3Ryb2tlV2lkdGg9ezF9IC8+XHJcbiAgICAgICAgICAgIDxUZXh0IHg9ezIwfSB5PXs4fSB0ZXh0PXtuYW1lfSBmb250U2l6ZT17MTJ9IGZpbGw9e2NvbG9yfSAvPlxyXG4gICAgICAgIDwvR3JvdXA+XHJcbiAgICApXHJcblxyXG4gICAgaWYgKHZpZXdwb3J0LncgPT09IDAgfHwgdmlld3BvcnQuaCA9PT0gMCkgcmV0dXJuIG51bGxcclxuXHJcbiAgICBjb25zdCBjdXJzb3IgPSBpc1Bhbm5pbmcgPyAoaXNQYW5EcmFnZ2luZyA/ICdncmFiYmluZycgOiAnZ3JhYicpIDogJ2RlZmF1bHQnXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnZml4ZWQnLCBpbnNldDogMCwgY3Vyc29yIH19PlxyXG4gICAgICAgICAgICB7Lyog0L/QsNC90LXQu9GMINGD0L/RgNCw0LLQu9C10L3QuNGPICovfVxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiAxMCwgcmlnaHQ6IDEyLCB0b3A6IDEyLCBkaXNwbGF5OiAnZmxleCcsIGdhcDogOCxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuOCknLCBib3JkZXJSYWRpdXM6IDgsIHBhZGRpbmc6IDYsIGJveFNoYWRvdzogJzAgMnB4IDhweCByZ2JhKDAsMCwwLC4xNSknXHJcbiAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTY2FsZShzID0+IE1hdGgubWF4KE1JTl9TQ0FMRSwgcyAvIFNDQUxFX0JZKSl9IHN0eWxlPXt7IHBhZGRpbmc6ICc2cHggMTBweCcsIGJvcmRlclJhZGl1czogNiwgYm9yZGVyOiAnMXB4IHNvbGlkICNkZGQnIH19PuKIkjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTY2FsZShzID0+IE1hdGgubWluKE1BWF9TQ0FMRSwgcyAqIFNDQUxFX0JZKSl9IHN0eWxlPXt7IHBhZGRpbmc6ICc2cHggMTBweCcsIGJvcmRlclJhZGl1czogNiwgYm9yZGVyOiAnMXB4IHNvbGlkICNkZGQnIH19Pis8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17em9vbVJlc2V0fSBzdHlsZT17eyBwYWRkaW5nOiAnNnB4IDEwcHgnLCBib3JkZXJSYWRpdXM6IDYsIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJyB9fT5SZXNldCB2aWV3PC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qIE5FVzog0LrQvdC+0L/QutCwINC/0L7Qu9C90L7Qs9C+INGB0LHRgNC+0YHQsCDQutC+0LzQvdCw0YLRiyAqL31cclxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFyZFJlc2V0fSBzdHlsZT17eyBwYWRkaW5nOiAnNnB4IDEwcHgnLCBib3JkZXJSYWRpdXM6IDYsIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJywgYmFja2dyb3VuZDonI2ZmZmJlNicgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzZXQgcm9vbVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5MZWZ0OiA4LCBmb250U2l6ZTogMTIsIG9wYWNpdHk6IC43IH19PihIb2xkIDxiPlNwYWNlPC9iPiB0byBwYW4pPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPFN0YWdlXHJcbiAgICAgICAgICAgICAgICB3aWR0aD17dmlld3BvcnQud31cclxuICAgICAgICAgICAgICAgIGhlaWdodD17dmlld3BvcnQuaH1cclxuICAgICAgICAgICAgICAgIHJlZj17c3RhZ2VSZWZ9XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e2lzUGFubmluZ31cclxuICAgICAgICAgICAgICAgIHg9e3N0YWdlUG9zLnh9XHJcbiAgICAgICAgICAgICAgICB5PXtzdGFnZVBvcy55fVxyXG4gICAgICAgICAgICAgICAgLy8g0YDQtdCw0LPQuNGA0YPQtdC8INGC0L7Qu9GM0LrQviDQvdCwIGRyYWcgU3RhZ2VcclxuICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQYW5uaW5nKSByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHN0YWdlUmVmLmN1cnJlbnQpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIHNldElzUGFuRHJhZ2dpbmcodHJ1ZSlcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Bhbm5pbmcpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gc3RhZ2VSZWYuY3VycmVudCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNQYW5EcmFnZ2luZyhmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdCA9IHN0YWdlUmVmLmN1cnJlbnRcclxuICAgICAgICAgICAgICAgICAgICBzZXRTdGFnZVBvcyh7IHg6IHN0LngoKSwgeTogc3QueSgpIH0pXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgc2NhbGVYPXtzY2FsZX1cclxuICAgICAgICAgICAgICAgIHNjYWxlWT17c2NhbGV9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZT17dXBkYXRlTXlDdXJzb3J9XHJcbiAgICAgICAgICAgICAgICBvblRvdWNoTW92ZT17dXBkYXRlTXlDdXJzb3J9XHJcbiAgICAgICAgICAgICAgICBvbldoZWVsPXtvbldoZWVsfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7Lyog0YTQvtC9INC/0YDQtdCy0YzRjiAqL31cclxuICAgICAgICAgICAgICAgIDxMYXllciBsaXN0ZW5pbmc9e2ZhbHNlfT5cclxuICAgICAgICAgICAgICAgICAgICB7aW1nICYmIDxLb252YUltYWdlIGltYWdlPXtpbWd9IHg9ezB9IHk9ezB9IHdpZHRoPXttZXRhLndpZHRofSBoZWlnaHQ9e21ldGEuaGVpZ2h0fSBvcGFjaXR5PXswLjE1fSAvPn1cclxuICAgICAgICAgICAgICAgIDwvTGF5ZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgey8qINC60YPRgdC+0YfQutC4ICovfVxyXG4gICAgICAgICAgICAgICAge2ltZyAmJiBwaWVjZXMubWFwKHBpZWNlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NrID0gbG9ja3NWaWV3LmdldChwaWVjZS5pZClcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01pbmUgPSBsb2NrPy5ieSA9PT0gKHByb3ZpZGVyUmVmLmN1cnJlbnQ/LmF3YXJlbmVzcy5jbGllbnRJRCBhcyBudW1iZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMb2NrZWQgPSBCb29sZWFuKGxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0bGluZSA9IHBpZWNlLnBsYWNlZCA/ICcjNGFkZTgwJyA6IGlzTG9ja2VkID8gKGxvY2shLmNvbG9yIHx8ICcjZjU5ZTBiJykgOiAnIzExMSdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPExheWVyIGtleT17cGllY2UuaWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17TWF0aC5yb3VuZChwaWVjZS5jdXJyZW50WCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeT17TWF0aC5yb3VuZChwaWVjZS5jdXJyZW50WSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPXshaXNQYW5uaW5nICYmICghaXNMb2NrZWQgfHwgaXNNaW5lKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbj17cGllY2UuY3VycmVudFJvdGF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXsoZSkgPT4gb25EcmFnU3RhcnQocGllY2UuaWQsIGUudGFyZ2V0LCBlLmV2dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnTW92ZT17KGUpID0+IG9uRHJhZ01vdmUocGllY2UuaWQsIGUudGFyZ2V0LngoKSwgZS50YXJnZXQueSgpLCBlLmV2dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kPXsoZSkgPT4gb25EcmFnRW5kKHBpZWNlLmlkLCBlLmV2dCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEtvbnZhSW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U9e2ltZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LXBpZWNlLmNsaXBCQm94Lnh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9ey1waWVjZS5jbGlwQkJveC55fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17bWV0YS53aWR0aH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXttZXRhLmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ey1waWVjZS5jbGlwQkJveC54fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstcGllY2UuY2xpcEJCb3gueX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17cGllY2UucGF0aH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cImJsYWNrXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24taW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5pbmc9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeD17LXBpZWNlLmNsaXBCQm94Lnh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9ey1waWVjZS5jbGlwQkJveC55fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXtwaWVjZS5wYXRofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsRW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT17b3V0bGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3BpZWNlLnBsYWNlZCA/IDAuNzUgOiAxfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJmZWN0RHJhd0VuYWJsZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIGhpdC3QvtCx0LvQsNGB0YLRjDog0LIg0YDQtdC20LjQvNC1INGA0YPQutC4INC+0YLQutC70Y7Rh9Cw0LXQvCwg0YfRgtC+0LHRiyBTdGFnZSDQv9C+0LvRg9GH0LjQuyBkcmFnICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg9ey1waWVjZS5jbGlwQkJveC54fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5PXstcGllY2UuY2xpcEJCb3gueX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17cGllY2UucGF0aH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD17aXNQYW5uaW5nID8gJ3JnYmEoMCwwLDAsMCknIDogJ3JnYmEoMCwwLDAsMC4wMDEpJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlRW5hYmxlZD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZz17IWlzUGFubmluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZmVjdERyYXdFbmFibGVkPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MYXllcj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9KX1cclxuXHJcbiAgICAgICAgICAgICAgICB7Lyog0LrRg9GA0YHQvtGA0Ysg0LTRgNGD0LPQuNGFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5ICovfVxyXG4gICAgICAgICAgICAgICAgPExheWVyIGxpc3RlbmluZz17ZmFsc2V9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZW1vdGVDdXJzb3JzLm1hcChjID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyb3VwIGtleT17Yy5pZH0geD17Yy54fSB5PXtjLnl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhdGggZGF0YT1cIk0gMCAwIEwgMTIgMjQgTCAxNiAxNiBaXCIgZmlsbD17Yy5jb2xvcn0gc3Ryb2tlPVwicmdiYSgwLDAsMCwwLjUpXCIgc3Ryb2tlV2lkdGg9ezF9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB4PXsyMH0geT17OH0gdGV4dD17Yy5uYW1lfSBmb250U2l6ZT17MTJ9IGZpbGw9e2MuY29sb3J9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICA8L0xheWVyPlxyXG5cclxuICAgICAgICAgICAgICAgIHsvKiDQutCw0YDQvNCw0L0g0YHQvdC40LfRgyAo0L7Qv9GG0LjQvtC90LDQu9GM0L3QvikgKi99XHJcbiAgICAgICAgICAgICAgICA8TGF5ZXIgbGlzdGVuaW5nPXtmYWxzZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgeD17MH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgeT17bWV0YS5oZWlnaHQgKyA4fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17dmlld3BvcnQud31cclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXtNYXRoLm1heCh2aWV3cG9ydC5oIC0gbWV0YS5oZWlnaHQgLSA4LCAwKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI2RkZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhc2g9e1s0LCA0XX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9MYXllcj5cclxuICAgICAgICAgICAgPC9TdGFnZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIlN0YWdlIiwiTGF5ZXIiLCJJbWFnZSIsIktvbnZhSW1hZ2UiLCJHcm91cCIsIlBhdGgiLCJSZWN0IiwiVGV4dCIsInVzZUltYWdlIiwiWSIsIldlYnNvY2tldFByb3ZpZGVyIiwiU0NBTEVfQlkiLCJNSU5fU0NBTEUiLCJNQVhfU0NBTEUiLCJTTkFQX1BYIiwiUk9UX1NOQVBfREVHIiwicmFmVGhyb3R0bGUiLCJmbiIsInRpY2tpbmciLCJhcmdzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFuZG9tTmFtZSIsImEiLCJiIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwicmFuZG9tQ29sb3IiLCJjb2xvcnMiLCJtYWtlTWV0YVNpZyIsIm0iLCJ3aWR0aCIsImhlaWdodCIsInJvd3MiLCJjb2xzIiwic2VlZCIsIlB1enpsZUJvYXJkIiwic2Vzc2lvbklkIiwibWV0YSIsImluaXRpYWxQaWVjZXMiLCJpbWciLCJpbWFnZVVybCIsInBpZWNlcyIsInNldFBpZWNlcyIsInJlbW90ZUN1cnNvcnMiLCJzZXRSZW1vdGVDdXJzb3JzIiwibG9ja3NWaWV3Iiwic2V0TG9ja3NWaWV3IiwiTWFwIiwidmlld3BvcnQiLCJzZXRWaWV3cG9ydCIsInciLCJoIiwidXBkIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzY2FsZSIsInNldFNjYWxlIiwic3RhZ2VQb3MiLCJzZXRTdGFnZVBvcyIsIngiLCJ5IiwiaXNQYW5uaW5nIiwic2V0SXNQYW5uaW5nIiwiaXNQYW5EcmFnZ2luZyIsInNldElzUGFuRHJhZ2dpbmciLCJzdGFnZVJlZiIsIm9uS2V5RG93biIsImUiLCJjb2RlIiwicHJldmVudERlZmF1bHQiLCJvbktleVVwIiwicGFzc2l2ZSIsImRvY1JlZiIsInByb3ZpZGVyUmVmIiwieVBpZWNlc1JlZiIsInlMb2Nrc1JlZiIsInlNZXRhUmVmIiwiaW5pdGVkUmVmIiwibXlOYW1lUmVmIiwibXlDb2xvclJlZiIsImRvYyIsIkRvYyIsInl3cyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19ZV1NfVVJMIiwicHJvdmlkZXIiLCJjb25uZWN0IiwieVBpZWNlcyIsImdldEFycmF5IiwieUxvY2tzIiwiZ2V0TWFwIiwieU1ldGEiLCJjdXJyZW50IiwiYXdhcmVuZXNzIiwic2V0TG9jYWxTdGF0ZSIsIm5hbWUiLCJjb2xvciIsIm9uY2UiLCJleHBlY3RlZENvdW50IiwiY3VycmVudENvdW50IiwiY3VycmVudFNpZyIsImdldCIsIm5ld1NpZyIsIm11c3RSZXNldCIsInRyYW5zYWN0IiwiZGVsZXRlIiwiZm9yRWFjaCIsInAiLCJwdXNoIiwiY2xlYXIiLCJzZXQiLCJ0b0FycmF5IiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsInN1YlBpZWNlcyIsInN1YkxvY2tzIiwib2JzZXJ2ZSIsIm9uQXdhcmVuZXNzQ2hhbmdlIiwic3RhdGVzIiwiZ2V0U3RhdGVzIiwibWluZUlkIiwiY2xpZW50SUQiLCJsaXZlIiwiU2V0IiwiX3N0IiwiaWQiLCJhZGQiLCJyZW1vdGVzIiwic3QiLCJ5TCIsImNoYW5nZWQiLCJsb2NrIiwicGlkIiwiaGFzIiwiYnkiLCJvbiIsInVub2JzZXJ2ZSIsIm9mZiIsImRlc3Ryb3kiLCJwb2ludGVyVG9Xb3JsZCIsInN0YWdlIiwiZ2V0UG9pbnRlclBvc2l0aW9uIiwic3giLCJzY2FsZVgiLCJzeSIsInNjYWxlWSIsInR4IiwidHkiLCJ1cGRhdGVNeUN1cnNvciIsInNldExvY2FsU3RhdGVGaWVsZCIsIm9uV2hlZWwiLCJldnQiLCJvbGRTY2FsZSIsInBvaW50ZXIiLCJtb3VzZVBvaW50VG8iLCJkaXIiLCJkZWx0YVkiLCJuZXdTY2FsZSIsIm1heCIsIm1pbiIsIm5ld1BvcyIsInpvb21SZXNldCIsIm15SWQiLCJteU5hbWUiLCJteUNvbG9yIiwiYWNxdWlyZUxvY2siLCJwaWVjZUlkIiwib3duZXJJZCIsImN1ciIsImluZm8iLCJ0cyIsIkRhdGUiLCJub3ciLCJyZWxlYXNlTG9jayIsImlzTG9ja2VkQnlPdGhlciIsInVwZGF0ZVBpZWNlQXQiLCJpZHgiLCJwYXRjaCIsIm5leHQiLCJpbnNlcnQiLCJvbkRyYWdTdGFydCIsInRhcmdldCIsInN0b3BEcmFnIiwieDAiLCJ0byIsImR1cmF0aW9uIiwiY2FuY2VsQnViYmxlIiwib25EcmFnTW92ZSIsImFyciIsImZpbmRJbmRleCIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJvbkRyYWdFbmQiLCJuZWFyIiwiaHlwb3QiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsInJvdE9rIiwiYWJzIiwiY3VycmVudFJvdGF0aW9uIiwicm91bmQiLCJwbGFjZWQiLCJoYXJkUmVzZXQiLCJDdXJzb3IiLCJkYXRhIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwidGV4dCIsImZvbnRTaXplIiwiY3Vyc29yIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsImluc2V0IiwiekluZGV4IiwicmlnaHQiLCJ0b3AiLCJkaXNwbGF5IiwiZ2FwIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsInBhZGRpbmciLCJib3hTaGFkb3ciLCJidXR0b24iLCJvbkNsaWNrIiwicyIsImJvcmRlciIsIm1hcmdpbkxlZnQiLCJvcGFjaXR5IiwicmVmIiwiZHJhZ2dhYmxlIiwib25Nb3VzZU1vdmUiLCJvblRvdWNoTW92ZSIsImxpc3RlbmluZyIsImltYWdlIiwibWFwIiwicGllY2UiLCJpc01pbmUiLCJpc0xvY2tlZCIsIkJvb2xlYW4iLCJvdXRsaW5lIiwicm90YXRpb24iLCJjbGlwQkJveCIsInBhdGgiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJwZXJmZWN0RHJhd0VuYWJsZWQiLCJmaWxsRW5hYmxlZCIsInN0cm9rZUVuYWJsZWQiLCJjIiwiZGFzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/PuzzleBoard.tsx\n"));

/***/ })

});