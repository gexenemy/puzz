"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_components_PuzzleBoard_tsx",{

/***/ "(app-pages-browser)/./components/PuzzleBoard.tsx":
/*!************************************!*\
  !*** ./components/PuzzleBoard.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PuzzleBoard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"(app-pages-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! use-image */ \"(app-pages-browser)/./node_modules/use-image/index.js\");\n/* harmony import */ var use_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(use_image__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var yjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! yjs */ \"(app-pages-browser)/./node_modules/yjs/dist/yjs.mjs\");\n/* harmony import */ var y_websocket__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! y-websocket */ \"(app-pages-browser)/./node_modules/y-websocket/src/y-websocket.js\");\n/* harmony import */ var _BackgroundPreview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BackgroundPreview */ \"(app-pages-browser)/./components/BackgroundPreview.tsx\");\n/* harmony import */ var _Piece__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Piece */ \"(app-pages-browser)/./components/Piece.tsx\");\n/* harmony import */ var _CursorLayer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CursorLayer */ \"(app-pages-browser)/./components/CursorLayer.tsx\");\n/* harmony import */ var _Pocket__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Pocket */ \"(app-pages-browser)/./components/Pocket.tsx\");\n/* harmony import */ var _Controls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Controls */ \"(app-pages-browser)/./components/Controls.tsx\");\n/* harmony import */ var _lib_hooks_useZoomPan__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/hooks/useZoomPan */ \"(app-pages-browser)/./lib/hooks/useZoomPan.ts\");\n/* harmony import */ var _lib_helpers_rafThrottle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/helpers/rafThrottle */ \"(app-pages-browser)/./lib/helpers/rafThrottle.ts\");\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/lib/constants */ \"(app-pages-browser)/./lib/constants.ts\");\n/* harmony import */ var _lib_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/types */ \"(app-pages-browser)/./lib/types.ts\");\n/* harmony import */ var _lib_random__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/random */ \"(app-pages-browser)/./lib/random.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction PuzzleBoard(param) {\n    let { sessionId, meta, initialPieces } = param;\n    _s();\n    const [img] = use_image__WEBPACK_IMPORTED_MODULE_3___default()(meta.imageUrl, \"anonymous\");\n    const [pieces, setPieces] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialPieces);\n    const [remoteCursors, setRemoteCursors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [locksView, setLocksView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    // viewport\n    const [viewport, setViewport] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        w: 0,\n        h: 0\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const upd = ()=>setViewport({\n                w: window.innerWidth,\n                h: window.innerHeight\n            });\n        upd();\n        window.addEventListener(\"resize\", upd);\n        return ()=>window.removeEventListener(\"resize\", upd);\n    }, []);\n    // stage + зум/панорамирование\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const zp = (0,_lib_hooks_useZoomPan__WEBPACK_IMPORTED_MODULE_9__.useZoomPan)(stageRef);\n    // Yjs\n    const docRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yPiecesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yLocksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const yMetaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const initedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // local awareness\n    const myNameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,_lib_random__WEBPACK_IMPORTED_MODULE_13__.randomName)());\n    const myColorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,_lib_random__WEBPACK_IMPORTED_MODULE_13__.randomColor)());\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const doc = new yjs__WEBPACK_IMPORTED_MODULE_14__.Doc();\n        const yws = \"ws://localhost:1234\" || 0;\n        const provider = new y_websocket__WEBPACK_IMPORTED_MODULE_15__.WebsocketProvider(yws, \"room:\".concat(sessionId), doc, {\n            connect: true\n        });\n        const yPieces = doc.getArray(\"pieces\");\n        const yLocks = doc.getMap(\"locks\");\n        const yMeta = doc.getMap(\"meta\");\n        docRef.current = doc;\n        providerRef.current = provider;\n        yPiecesRef.current = yPieces;\n        yLocksRef.current = yLocks;\n        yMetaRef.current = yMeta;\n        initedRef.current = false;\n        provider.awareness.setLocalState({\n            name: myNameRef.current,\n            color: myColorRef.current,\n            x: null,\n            y: null\n        });\n        provider.once(\"sync\", ()=>{\n            if (initedRef.current) return;\n            initedRef.current = true;\n            const expectedCount = meta.rows * meta.cols;\n            const currentCount = yPieces.length;\n            const currentSig = yMeta.get(\"sig\") || \"\";\n            const newSig = (0,_lib_types__WEBPACK_IMPORTED_MODULE_12__.makeMetaSig)(meta);\n            const mustReset = currentSig !== newSig || currentCount !== expectedCount;\n            doc.transact(()=>{\n                if (mustReset) {\n                    if (currentCount > 0) yPieces.delete(0, currentCount);\n                    initialPieces.forEach((p)=>yPieces.push([\n                            p\n                        ]));\n                    yLocks.clear();\n                    yMeta.set(\"sig\", newSig);\n                }\n            });\n            setPieces(yPieces.toArray());\n            setLocksView(new Map(Array.from(yLocks.entries())));\n        });\n        const subPieces = ()=>setPieces(yPieces.toArray());\n        const subLocks = ()=>setLocksView(new Map(Array.from(yLocks.entries())));\n        yPieces.observe(subPieces);\n        yLocks.observe(subLocks);\n        const onAwarenessChange = ()=>{\n            const states = provider.awareness.getStates();\n            const mineId = provider.awareness.clientID;\n            const live = new Set();\n            states.forEach((_st, id)=>live.add(id));\n            const remotes = [];\n            states.forEach((st, id)=>{\n                if (id === mineId || !st || st.x == null || st.y == null) return;\n                var _st_name, _st_color;\n                remotes.push({\n                    id,\n                    x: st.x,\n                    y: st.y,\n                    name: (_st_name = st.name) !== null && _st_name !== void 0 ? _st_name : \"Guest\",\n                    color: (_st_color = st.color) !== null && _st_color !== void 0 ? _st_color : \"#3b82f6\"\n                });\n            });\n            setRemoteCursors(remotes);\n            // очистка зависших локов\n            const yL = yLocksRef.current;\n            if (!yL) return;\n            let changed = false;\n            yL.forEach((lock, pid)=>{\n                if (!live.has(lock.by)) {\n                    var _docRef_current;\n                    (_docRef_current = docRef.current) === null || _docRef_current === void 0 ? void 0 : _docRef_current.transact(()=>yL.delete(pid));\n                    changed = true;\n                }\n            });\n            if (changed) setLocksView(new Map(Array.from(yL.entries())));\n        };\n        provider.awareness.on(\"change\", onAwarenessChange);\n        return ()=>{\n            yPieces.unobserve(subPieces);\n            yLocks.unobserve(subLocks);\n            provider.awareness.off(\"change\", onAwarenessChange);\n            provider.destroy();\n            doc.destroy();\n        };\n    }, [\n        sessionId,\n        initialPieces,\n        meta.width,\n        meta.height,\n        meta.rows,\n        meta.cols,\n        meta.seed\n    ]);\n    // pointer in world\n    const pointerToWorld = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const stage = stageRef.current;\n        if (!stage) return {\n            x: 0,\n            y: 0\n        };\n        const p = stage.getPointerPosition();\n        if (!p) return {\n            x: 0,\n            y: 0\n        };\n        const sx = stage.scaleX(), sy = stage.scaleY();\n        const tx = stage.x(), ty = stage.y();\n        return {\n            x: (p.x - tx) / sx,\n            y: (p.y - ty) / sy\n        };\n    }, []);\n    const updateMyCursor = (0,_lib_helpers_rafThrottle__WEBPACK_IMPORTED_MODULE_10__.rafThrottle)(()=>{\n        const provider = providerRef.current;\n        if (!provider) return;\n        const { x, y } = pointerToWorld();\n        provider.awareness.setLocalStateField(\"x\", x);\n        provider.awareness.setLocalStateField(\"y\", y);\n    });\n    // yjs helpers\n    const myId = ()=>{\n        var _providerRef_current;\n        return (_providerRef_current = providerRef.current) === null || _providerRef_current === void 0 ? void 0 : _providerRef_current.awareness.clientID;\n    };\n    const acquireLock = (pieceId)=>{\n        const yLocks = yLocksRef.current, doc = docRef.current;\n        const ownerId = myId();\n        if (!yLocks || !doc || ownerId == null) return false;\n        const cur = yLocks.get(pieceId);\n        if (cur && cur.by !== ownerId) return false;\n        const info = {\n            by: ownerId,\n            name: myNameRef.current,\n            color: myColorRef.current,\n            ts: Date.now()\n        };\n        doc.transact(()=>yLocks.set(pieceId, info));\n        return true;\n    };\n    const releaseLock = (pieceId)=>{\n        const yLocks = yLocksRef.current, doc = docRef.current;\n        if (!yLocks || !doc) return;\n        const cur = yLocks.get(pieceId);\n        if (cur && cur.by === myId()) doc.transact(()=>yLocks.delete(pieceId));\n    };\n    const isLockedByOther = (pieceId)=>{\n        const cur = locksView.get(pieceId);\n        return cur && cur.by !== myId() ? cur : null;\n    };\n    const updatePieceAt = (idx, patch)=>{\n        const yPieces = yPiecesRef.current, doc = docRef.current;\n        if (!yPieces || !doc) return;\n        const cur = yPieces.get(idx);\n        if (!cur) return;\n        const next = {\n            ...cur,\n            ...patch\n        };\n        doc.transact(()=>{\n            yPieces.delete(idx, 1);\n            yPieces.insert(idx, [\n                next\n            ]);\n        });\n    };\n    // drag handlers\n    const onDragStart = (id, target, e)=>{\n        if (zp.isPanning) {\n            try {\n                target.stopDrag();\n            } catch (e) {}\n            return;\n        }\n        const lock = isLockedByOther(id);\n        if (lock) {\n            try {\n                target.stopDrag();\n                const x0 = target.x();\n                target.to({\n                    x: x0 + 6,\n                    duration: .06\n                });\n                target.to({\n                    x: x0,\n                    duration: .06\n                });\n            } catch (e) {}\n            return;\n        }\n        if (e) e.cancelBubble = true;\n        acquireLock(id);\n        updateMyCursor() // сразу обновим курсор в момент начала перетаскивания\n        ;\n    };\n    const onDragMove = (0,_lib_helpers_rafThrottle__WEBPACK_IMPORTED_MODULE_10__.rafThrottle)((id, x, y, e)=>{\n        if (zp.isPanning) return;\n        if (isLockedByOther(id)) return;\n        const yPieces = yPiecesRef.current;\n        if (!yPieces) return;\n        const arr = yPieces.toArray();\n        const idx = arr.findIndex((p)=>p.id === id);\n        if (idx < 0) return;\n        if (e) e.cancelBubble = true;\n        updatePieceAt(idx, {\n            currentX: x,\n            currentY: y\n        });\n    });\n    const onDragEnd = (id, e)=>{\n        if (zp.isPanning) return;\n        if (isLockedByOther(id)) return;\n        const yPieces = yPiecesRef.current;\n        if (!yPieces) return;\n        const arr = yPieces.toArray();\n        const idx = arr.findIndex((p)=>p.id === id);\n        if (idx < 0) return;\n        const p = arr[idx];\n        const near = Math.hypot(p.currentX - p.targetX, p.currentY - p.targetY);\n        const rotOk = Math.abs((p.currentRotation || 0) - 0) <= _lib_constants__WEBPACK_IMPORTED_MODULE_11__.ROT_SNAP_DEG;\n        if (near <= _lib_constants__WEBPACK_IMPORTED_MODULE_11__.SNAP_PX && rotOk) {\n            updatePieceAt(idx, {\n                currentX: Math.round(p.targetX),\n                currentY: Math.round(p.targetY),\n                currentRotation: 0,\n                placed: true\n            });\n        }\n        if (e) e.cancelBubble = true;\n        releaseLock(id);\n    };\n    if (viewport.w === 0 || viewport.h === 0) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            inset: 0,\n            cursor: zp.cursor\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Controls__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                setScale: zp.setScale,\n                resetView: ()=>{\n                    zp.setScale(1);\n                    zp.setStagePos({\n                        x: 0,\n                        y: 0\n                    });\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                lineNumber: 232,\n                columnNumber: 13\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                width: viewport.w,\n                height: viewport.h,\n                ref: stageRef,\n                draggable: zp.draggable,\n                x: zp.stagePos.x,\n                y: zp.stagePos.y,\n                onDragStart: zp.onStageDragStart,\n                onDragEnd: zp.onStageDragEnd,\n                // ВАЖНО: это заставляет курсор «жить» во время drag\n                onDragMove: updateMyCursor,\n                scaleX: zp.scale,\n                scaleY: zp.scale,\n                onMouseMove: updateMyCursor,\n                onTouchMove: updateMyCursor,\n                onWheel: zp.onWheel,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BackgroundPreview__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        img: img,\n                        width: meta.width,\n                        height: meta.height\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 251,\n                        columnNumber: 17\n                    }, this),\n                    img && pieces.map((piece)=>{\n                        var _providerRef_current;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Piece__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            img: img,\n                            metaW: meta.width,\n                            metaH: meta.height,\n                            piece: piece,\n                            lock: locksView.get(piece.id),\n                            isPanning: zp.isPanning,\n                            myClientId: (_providerRef_current = providerRef.current) === null || _providerRef_current === void 0 ? void 0 : _providerRef_current.awareness.clientID,\n                            onDragStart: onDragStart,\n                            onDragMove: onDragMove,\n                            onDragEnd: onDragEnd\n                        }, piece.id, false, {\n                            fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                            lineNumber: 254,\n                            columnNumber: 21\n                        }, this);\n                    }),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CursorLayer__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        cursors: remoteCursors\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 17\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Pocket__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                        boardW: viewport.w,\n                        viewH: viewport.h,\n                        boardH: meta.height\n                    }, void 0, false, {\n                        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                        lineNumber: 270,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n                lineNumber: 234,\n                columnNumber: 13\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\work\\\\PUZZLES\\\\frontend\\\\components\\\\PuzzleBoard.tsx\",\n        lineNumber: 231,\n        columnNumber: 9\n    }, this);\n}\n_s(PuzzleBoard, \"EQEl1vY4YnIrQ+8TGcYPLjxD070=\", false, function() {\n    return [\n        (use_image__WEBPACK_IMPORTED_MODULE_3___default()),\n        _lib_hooks_useZoomPan__WEBPACK_IMPORTED_MODULE_9__.useZoomPan\n    ];\n});\n_c = PuzzleBoard;\nvar _c;\n$RefreshReg$(_c, \"PuzzleBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvUHV6emxlQm9hcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVnRTtBQUM3QjtBQUNIO0FBQ1I7QUFDdUI7QUFFSTtBQUN4QjtBQUNZO0FBQ1Y7QUFDSTtBQUVrQjtBQUNJO0FBQ0E7QUFDa0M7QUFDbkM7QUFRdkMsU0FBU29CLFlBQVksS0FBeUM7UUFBekMsRUFBRUMsU0FBUyxFQUFFQyxJQUFJLEVBQUVDLGFBQWEsRUFBUyxHQUF6Qzs7SUFDaEMsTUFBTSxDQUFDQyxJQUFJLEdBQUduQixnREFBUUEsQ0FBQ2lCLEtBQUtHLFFBQVEsRUFBRTtJQUV0QyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR3hCLCtDQUFRQSxDQUFlb0I7SUFDbkQsTUFBTSxDQUFDSyxlQUFlQyxpQkFBaUIsR0FBRzFCLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3JFLE1BQU0sQ0FBQzJCLFdBQVdDLGFBQWEsR0FBRzVCLCtDQUFRQSxDQUF3QixJQUFJNkI7SUFFdEUsV0FBVztJQUNYLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHL0IsK0NBQVFBLENBQUM7UUFBRWdDLEdBQUc7UUFBR0MsR0FBRztJQUFFO0lBQ3REbkMsZ0RBQVNBLENBQUM7UUFDTixNQUFNb0MsTUFBTSxJQUFNSCxZQUFZO2dCQUFFQyxHQUFHRyxPQUFPQyxVQUFVO2dCQUFFSCxHQUFHRSxPQUFPRSxXQUFXO1lBQUM7UUFDNUVIO1FBQ0FDLE9BQU9HLGdCQUFnQixDQUFDLFVBQVVKO1FBQ2xDLE9BQU8sSUFBTUMsT0FBT0ksbUJBQW1CLENBQUMsVUFBVUw7SUFDdEQsR0FBRyxFQUFFO0lBRUwsOEJBQThCO0lBQzlCLE1BQU1NLFdBQVd6Qyw2Q0FBTUEsQ0FBTTtJQUM3QixNQUFNMEMsS0FBSy9CLGlFQUFVQSxDQUFDOEI7SUFFdEIsTUFBTTtJQUNOLE1BQU1FLFNBQVMzQyw2Q0FBTUE7SUFDckIsTUFBTTRDLGNBQWM1Qyw2Q0FB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QVM7NEJBQ3ZCMkMsVUFBVSxHQUFFckosdUJBQUFBLFlBQVlvQixPQUFPLGNBQW5CcEIsMkNBQUFBLHFCQUFxQnFCLFNBQVMsQ0FBQ2tDLFFBQVE7NEJBQ25EZ0QsYUFBYUE7NEJBQ2JTLFlBQVlBOzRCQUNaSyxXQUFXQTsyQkFWTjZCLE1BQU12RixFQUFFOzs7Ozs7a0NBY3JCLDhEQUFDL0Ysb0RBQVdBO3dCQUFDMEwsU0FBU3hLOzs7Ozs7a0NBQ3RCLDhEQUFDakIsK0NBQU1BO3dCQUFDMEwsUUFBUXBLLFNBQVNFLENBQUM7d0JBQUVtSyxPQUFPckssU0FBU0csQ0FBQzt3QkFBRW1LLFFBQVFqTCxLQUFLa0csTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWxGO0dBdlB3QnBHOztRQUNOZixrREFBUUE7UUFpQlhRLDZEQUFVQTs7O0tBbEJETyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL1B1enpsZUJvYXJkLnRzeD85Njk1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBTdGFnZSB9IGZyb20gJ3JlYWN0LWtvbnZhJ1xyXG5pbXBvcnQgdXNlSW1hZ2UgZnJvbSAndXNlLWltYWdlJ1xyXG5pbXBvcnQgKiBhcyBZIGZyb20gJ3lqcydcclxuaW1wb3J0IHsgV2Vic29ja2V0UHJvdmlkZXIgfSBmcm9tICd5LXdlYnNvY2tldCdcclxuXHJcbmltcG9ydCBCYWNrZ3JvdW5kUHJldmlldyBmcm9tICcuL0JhY2tncm91bmRQcmV2aWV3J1xyXG5pbXBvcnQgUGllY2UgZnJvbSAnLi9QaWVjZSdcclxuaW1wb3J0IEN1cnNvckxheWVyIGZyb20gJy4vQ3Vyc29yTGF5ZXInXHJcbmltcG9ydCBQb2NrZXQgZnJvbSAnLi9Qb2NrZXQnXHJcbmltcG9ydCBDb250cm9scyBmcm9tICcuL0NvbnRyb2xzJ1xyXG5cclxuaW1wb3J0IHsgdXNlWm9vbVBhbiB9IGZyb20gJ0AvbGliL2hvb2tzL3VzZVpvb21QYW4nXHJcbmltcG9ydCB7IHJhZlRocm90dGxlIH0gZnJvbSAnQC9saWIvaGVscGVycy9yYWZUaHJvdHRsZSdcclxuaW1wb3J0IHsgUk9UX1NOQVBfREVHLCBTTkFQX1BYIH0gZnJvbSAnQC9saWIvY29uc3RhbnRzJ1xyXG5pbXBvcnQgeyBMb2NrSW5mbywgUGllY2VTdGF0ZSwgUHV6emxlTWV0YSwgUmVtb3RlQ3Vyc29yLCBtYWtlTWV0YVNpZyB9IGZyb20gJ0AvbGliL3R5cGVzJ1xyXG5pbXBvcnQgeyByYW5kb21Db2xvciwgcmFuZG9tTmFtZSB9IGZyb20gJ0AvbGliL3JhbmRvbSdcclxuXHJcbnR5cGUgUHJvcHMgPSB7XHJcbiAgICBzZXNzaW9uSWQ6IHN0cmluZ1xyXG4gICAgbWV0YTogUHV6emxlTWV0YVxyXG4gICAgaW5pdGlhbFBpZWNlczogUGllY2VTdGF0ZVtdXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFB1enpsZUJvYXJkKHsgc2Vzc2lvbklkLCBtZXRhLCBpbml0aWFsUGllY2VzIH06IFByb3BzKSB7XHJcbiAgICBjb25zdCBbaW1nXSA9IHVzZUltYWdlKG1ldGEuaW1hZ2VVcmwsICdhbm9ueW1vdXMnKVxyXG5cclxuICAgIGNvbnN0IFtwaWVjZXMsIHNldFBpZWNlc10gPSB1c2VTdGF0ZTxQaWVjZVN0YXRlW10+KGluaXRpYWxQaWVjZXMpXHJcbiAgICBjb25zdCBbcmVtb3RlQ3Vyc29ycywgc2V0UmVtb3RlQ3Vyc29yc10gPSB1c2VTdGF0ZTxSZW1vdGVDdXJzb3JbXT4oW10pXHJcbiAgICBjb25zdCBbbG9ja3NWaWV3LCBzZXRMb2Nrc1ZpZXddID0gdXNlU3RhdGU8TWFwPHN0cmluZywgTG9ja0luZm8+PihuZXcgTWFwKCkpXHJcblxyXG4gICAgLy8gdmlld3BvcnRcclxuICAgIGNvbnN0IFt2aWV3cG9ydCwgc2V0Vmlld3BvcnRdID0gdXNlU3RhdGUoeyB3OiAwLCBoOiAwIH0pXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZCA9ICgpID0+IHNldFZpZXdwb3J0KHsgdzogd2luZG93LmlubmVyV2lkdGgsIGg6IHdpbmRvdy5pbm5lckhlaWdodCB9KVxyXG4gICAgICAgIHVwZCgpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZClcclxuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZClcclxuICAgIH0sIFtdKVxyXG5cclxuICAgIC8vIHN0YWdlICsg0LfRg9C8L9C/0LDQvdC+0YDQsNC80LjRgNC+0LLQsNC90LjQtVxyXG4gICAgY29uc3Qgc3RhZ2VSZWYgPSB1c2VSZWY8YW55PihudWxsKVxyXG4gICAgY29uc3QgenAgPSB1c2Vab29tUGFuKHN0YWdlUmVmKVxyXG5cclxuICAgIC8vIFlqc1xyXG4gICAgY29uc3QgZG9jUmVmID0gdXNlUmVmPFkuRG9jPigpXHJcbiAgICBjb25zdCBwcm92aWRlclJlZiA9IHVzZVJlZjxXZWJzb2NrZXRQcm92aWRlcj4oKVxyXG4gICAgY29uc3QgeVBpZWNlc1JlZiA9IHVzZVJlZjxZLkFycmF5PFBpZWNlU3RhdGU+PigpXHJcbiAgICBjb25zdCB5TG9ja3NSZWYgPSB1c2VSZWY8WS5NYXA8TG9ja0luZm8+PigpXHJcbiAgICBjb25zdCB5TWV0YVJlZiA9IHVzZVJlZjxZLk1hcDxhbnk+PigpXHJcbiAgICBjb25zdCBpbml0ZWRSZWYgPSB1c2VSZWYoZmFsc2UpXHJcblxyXG4gICAgLy8gbG9jYWwgYXdhcmVuZXNzXHJcbiAgICBjb25zdCBteU5hbWVSZWYgPSB1c2VSZWY8c3RyaW5nPihyYW5kb21OYW1lKCkpXHJcbiAgICBjb25zdCBteUNvbG9yUmVmID0gdXNlUmVmPHN0cmluZz4ocmFuZG9tQ29sb3IoKSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyBZLkRvYygpXHJcbiAgICAgICAgY29uc3QgeXdzID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfWVdTX1VSTCB8fCAnd3M6Ly9sb2NhbGhvc3Q6MTIzNCdcclxuICAgICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBXZWJzb2NrZXRQcm92aWRlcih5d3MsIGByb29tOiR7c2Vzc2lvbklkfWAsIGRvYywgeyBjb25uZWN0OiB0cnVlIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHlQaWVjZXMgPSBkb2MuZ2V0QXJyYXk8UGllY2VTdGF0ZT4oJ3BpZWNlcycpXHJcbiAgICAgICAgY29uc3QgeUxvY2tzID0gZG9jLmdldE1hcDxMb2NrSW5mbz4oJ2xvY2tzJylcclxuICAgICAgICBjb25zdCB5TWV0YSA9IGRvYy5nZXRNYXA8YW55PignbWV0YScpXHJcblxyXG4gICAgICAgIGRvY1JlZi5jdXJyZW50ID0gZG9jXHJcbiAgICAgICAgcHJvdmlkZXJSZWYuY3VycmVudCA9IHByb3ZpZGVyXHJcbiAgICAgICAgeVBpZWNlc1JlZi5jdXJyZW50ID0geVBpZWNlc1xyXG4gICAgICAgIHlMb2Nrc1JlZi5jdXJyZW50ID0geUxvY2tzXHJcbiAgICAgICAgeU1ldGFSZWYuY3VycmVudCA9IHlNZXRhXHJcbiAgICAgICAgaW5pdGVkUmVmLmN1cnJlbnQgPSBmYWxzZVxyXG5cclxuICAgICAgICBwcm92aWRlci5hd2FyZW5lc3Muc2V0TG9jYWxTdGF0ZSh7IG5hbWU6IG15TmFtZVJlZi5jdXJyZW50LCBjb2xvcjogbXlDb2xvclJlZi5jdXJyZW50LCB4OiBudWxsLCB5OiBudWxsIH0pXHJcblxyXG4gICAgICAgIHByb3ZpZGVyLm9uY2UoJ3N5bmMnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbml0ZWRSZWYuY3VycmVudCkgcmV0dXJuXHJcbiAgICAgICAgICAgIGluaXRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRDb3VudCA9IG1ldGEucm93cyAqIG1ldGEuY29sc1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSB5UGllY2VzLmxlbmd0aFxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2lnID0gKHlNZXRhLmdldCgnc2lnJykgYXMgc3RyaW5nKSB8fCAnJ1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTaWcgPSBtYWtlTWV0YVNpZyhtZXRhKVxyXG4gICAgICAgICAgICBjb25zdCBtdXN0UmVzZXQgPSBjdXJyZW50U2lnICE9PSBuZXdTaWcgfHwgY3VycmVudENvdW50ICE9PSBleHBlY3RlZENvdW50XHJcblxyXG4gICAgICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG11c3RSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q291bnQgPiAwKSB5UGllY2VzLmRlbGV0ZSgwLCBjdXJyZW50Q291bnQpXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBpZWNlcy5mb3JFYWNoKHAgPT4geVBpZWNlcy5wdXNoKFtwXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgeUxvY2tzLmNsZWFyKClcclxuICAgICAgICAgICAgICAgICAgICB5TWV0YS5zZXQoJ3NpZycsIG5ld1NpZylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHNldFBpZWNlcyh5UGllY2VzLnRvQXJyYXkoKSlcclxuICAgICAgICAgICAgc2V0TG9ja3NWaWV3KG5ldyBNYXAoQXJyYXkuZnJvbSh5TG9ja3MuZW50cmllcygpKSBhcyBhbnkpKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHN1YlBpZWNlcyA9ICgpID0+IHNldFBpZWNlcyh5UGllY2VzLnRvQXJyYXkoKSlcclxuICAgICAgICBjb25zdCBzdWJMb2NrcyA9ICgpID0+IHNldExvY2tzVmlldyhuZXcgTWFwKEFycmF5LmZyb20oeUxvY2tzLmVudHJpZXMoKSkgYXMgYW55KSlcclxuICAgICAgICB5UGllY2VzLm9ic2VydmUoc3ViUGllY2VzKVxyXG4gICAgICAgIHlMb2Nrcy5vYnNlcnZlKHN1YkxvY2tzKVxyXG5cclxuICAgICAgICBjb25zdCBvbkF3YXJlbmVzc0NoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gcHJvdmlkZXIuYXdhcmVuZXNzLmdldFN0YXRlcygpXHJcbiAgICAgICAgICAgIGNvbnN0IG1pbmVJZCA9IHByb3ZpZGVyLmF3YXJlbmVzcy5jbGllbnRJRFxyXG4gICAgICAgICAgICBjb25zdCBsaXZlID0gbmV3IFNldDxudW1iZXI+KClcclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goKF9zdDogYW55LCBpZDogbnVtYmVyKSA9PiBsaXZlLmFkZChpZCkpXHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdGVzOiBSZW1vdGVDdXJzb3JbXSA9IFtdXHJcbiAgICAgICAgICAgIHN0YXRlcy5mb3JFYWNoKChzdDogYW55LCBpZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT09IG1pbmVJZCB8fCAhc3QgfHwgc3QueCA9PSBudWxsIHx8IHN0LnkgPT0gbnVsbCkgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICByZW1vdGVzLnB1c2goeyBpZCwgeDogc3QueCwgeTogc3QueSwgbmFtZTogc3QubmFtZSA/PyAnR3Vlc3QnLCBjb2xvcjogc3QuY29sb3IgPz8gJyMzYjgyZjYnIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHNldFJlbW90ZUN1cnNvcnMocmVtb3RlcylcclxuXHJcbiAgICAgICAgICAgIC8vINC+0YfQuNGB0YLQutCwINC30LDQstC40YHRiNC40YUg0LvQvtC60L7QslxyXG4gICAgICAgICAgICBjb25zdCB5TCA9IHlMb2Nrc1JlZi5jdXJyZW50OyBpZiAoIXlMKSByZXR1cm5cclxuICAgICAgICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZVxyXG4gICAgICAgICAgICB5TC5mb3JFYWNoKChsb2NrLCBwaWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghbGl2ZS5oYXMobG9jay5ieSkpIHsgZG9jUmVmLmN1cnJlbnQ/LnRyYW5zYWN0KCgpID0+IHlMLmRlbGV0ZShwaWQpKTsgY2hhbmdlZCA9IHRydWUgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAoY2hhbmdlZCkgc2V0TG9ja3NWaWV3KG5ldyBNYXAoQXJyYXkuZnJvbSh5TC5lbnRyaWVzKCkpIGFzIGFueSkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5vbignY2hhbmdlJywgb25Bd2FyZW5lc3NDaGFuZ2UpXHJcblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHlQaWVjZXMudW5vYnNlcnZlKHN1YlBpZWNlcylcclxuICAgICAgICAgICAgeUxvY2tzLnVub2JzZXJ2ZShzdWJMb2NrcylcclxuICAgICAgICAgICAgcHJvdmlkZXIuYXdhcmVuZXNzLm9mZignY2hhbmdlJywgb25Bd2FyZW5lc3NDaGFuZ2UpXHJcbiAgICAgICAgICAgIHByb3ZpZGVyLmRlc3Ryb3koKVxyXG4gICAgICAgICAgICBkb2MuZGVzdHJveSgpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3Nlc3Npb25JZCwgaW5pdGlhbFBpZWNlcywgbWV0YS53aWR0aCwgbWV0YS5oZWlnaHQsIG1ldGEucm93cywgbWV0YS5jb2xzLCBtZXRhLnNlZWRdKVxyXG5cclxuICAgIC8vIHBvaW50ZXIgaW4gd29ybGRcclxuICAgIGNvbnN0IHBvaW50ZXJUb1dvcmxkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudFxyXG4gICAgICAgIGlmICghc3RhZ2UpIHJldHVybiB7IHg6IDAsIHk6IDAgfVxyXG4gICAgICAgIGNvbnN0IHAgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKVxyXG4gICAgICAgIGlmICghcCkgcmV0dXJuIHsgeDogMCwgeTogMCB9XHJcbiAgICAgICAgY29uc3Qgc3ggPSBzdGFnZS5zY2FsZVgoKSwgc3kgPSBzdGFnZS5zY2FsZVkoKVxyXG4gICAgICAgIGNvbnN0IHR4ID0gc3RhZ2UueCgpLCB0eSA9IHN0YWdlLnkoKVxyXG4gICAgICAgIHJldHVybiB7IHg6IChwLnggLSB0eCkgLyBzeCwgeTogKHAueSAtIHR5KSAvIHN5IH1cclxuICAgIH0sIFtdKVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZU15Q3Vyc29yID0gcmFmVGhyb3R0bGUoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gcHJvdmlkZXJSZWYuY3VycmVudFxyXG4gICAgICAgIGlmICghcHJvdmlkZXIpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnRlclRvV29ybGQoKVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3gnLCB4KVxyXG4gICAgICAgIHByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3knLCB5KVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyB5anMgaGVscGVyc1xyXG4gICAgY29uc3QgbXlJZCA9ICgpID0+IHByb3ZpZGVyUmVmLmN1cnJlbnQ/LmF3YXJlbmVzcy5jbGllbnRJRCBhcyBudW1iZXJcclxuICAgIGNvbnN0IGFjcXVpcmVMb2NrID0gKHBpZWNlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgIGNvbnN0IHlMb2NrcyA9IHlMb2Nrc1JlZi5jdXJyZW50LCBkb2MgPSBkb2NSZWYuY3VycmVudFxyXG4gICAgICAgIGNvbnN0IG93bmVySWQgPSBteUlkKClcclxuICAgICAgICBpZiAoIXlMb2NrcyB8fCAhZG9jIHx8IG93bmVySWQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgY29uc3QgY3VyID0geUxvY2tzLmdldChwaWVjZUlkKTsgaWYgKGN1ciAmJiBjdXIuYnkgIT09IG93bmVySWQpIHJldHVybiBmYWxzZVxyXG4gICAgICAgIGNvbnN0IGluZm86IExvY2tJbmZvID0geyBieTogb3duZXJJZCwgbmFtZTogbXlOYW1lUmVmLmN1cnJlbnQsIGNvbG9yOiBteUNvbG9yUmVmLmN1cnJlbnQsIHRzOiBEYXRlLm5vdygpIH1cclxuICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4geUxvY2tzLnNldChwaWVjZUlkLCBpbmZvKSlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVsZWFzZUxvY2sgPSAocGllY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeUxvY2tzID0geUxvY2tzUmVmLmN1cnJlbnQsIGRvYyA9IGRvY1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5TG9ja3MgfHwgIWRvYykgcmV0dXJuXHJcbiAgICAgICAgY29uc3QgY3VyID0geUxvY2tzLmdldChwaWVjZUlkKTsgaWYgKGN1ciAmJiBjdXIuYnkgPT09IG15SWQoKSkgZG9jLnRyYW5zYWN0KCgpID0+IHlMb2Nrcy5kZWxldGUocGllY2VJZCkpXHJcbiAgICB9XHJcbiAgICBjb25zdCBpc0xvY2tlZEJ5T3RoZXIgPSAocGllY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VyID0gbG9ja3NWaWV3LmdldChwaWVjZUlkKTsgcmV0dXJuIGN1ciAmJiBjdXIuYnkgIT09IG15SWQoKSA/IGN1ciA6IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVQaWVjZUF0ID0gKGlkeDogbnVtYmVyLCBwYXRjaDogUGFydGlhbDxQaWVjZVN0YXRlPikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHlQaWVjZXMgPSB5UGllY2VzUmVmLmN1cnJlbnQsIGRvYyA9IGRvY1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5UGllY2VzIHx8ICFkb2MpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IGN1ciA9IHlQaWVjZXMuZ2V0KGlkeCk7IGlmICghY3VyKSByZXR1cm5cclxuICAgICAgICBjb25zdCBuZXh0ID0geyAuLi5jdXIsIC4uLnBhdGNoIH1cclxuICAgICAgICBkb2MudHJhbnNhY3QoKCkgPT4geyB5UGllY2VzLmRlbGV0ZShpZHgsIDEpOyB5UGllY2VzLmluc2VydChpZHgsIFtuZXh0XSkgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBkcmFnIGhhbmRsZXJzXHJcbiAgICBjb25zdCBvbkRyYWdTdGFydCA9IChpZDogc3RyaW5nLCB0YXJnZXQ6IGFueSwgZTogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHpwLmlzUGFubmluZykgeyB0cnkgeyB0YXJnZXQuc3RvcERyYWcoKSB9IGNhdGNoIHt9IDsgcmV0dXJuIH1cclxuICAgICAgICBjb25zdCBsb2NrID0gaXNMb2NrZWRCeU90aGVyKGlkKVxyXG4gICAgICAgIGlmIChsb2NrKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHRhcmdldC5zdG9wRHJhZygpOyBjb25zdCB4MCA9IHRhcmdldC54KCk7IHRhcmdldC50byh7IHg6IHgwICsgNiwgZHVyYXRpb246IC4wNiB9KTsgdGFyZ2V0LnRvKHsgeDogeDAsIGR1cmF0aW9uOiAuMDYgfSkgfSBjYXRjaCB7fVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGUpIGUuY2FuY2VsQnViYmxlID0gdHJ1ZVxyXG4gICAgICAgIGFjcXVpcmVMb2NrKGlkKVxyXG4gICAgICAgIHVwZGF0ZU15Q3Vyc29yKCkgLy8g0YHRgNCw0LfRgyDQvtCx0L3QvtCy0LjQvCDQutGD0YDRgdC+0YAg0LIg0LzQvtC80LXQvdGCINC90LDRh9Cw0LvQsCDQv9C10YDQtdGC0LDRgdC60LjQstCw0L3QuNGPXHJcbiAgICB9XHJcbiAgICBjb25zdCBvbkRyYWdNb3ZlID0gcmFmVGhyb3R0bGUoKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBlPzogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHpwLmlzUGFubmluZykgcmV0dXJuXHJcbiAgICAgICAgaWYgKGlzTG9ja2VkQnlPdGhlcihpZCkpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IHlQaWVjZXMgPSB5UGllY2VzUmVmLmN1cnJlbnRcclxuICAgICAgICBpZiAoIXlQaWVjZXMpIHJldHVyblxyXG4gICAgICAgIGNvbnN0IGFyciA9IHlQaWVjZXMudG9BcnJheSgpXHJcbiAgICAgICAgY29uc3QgaWR4ID0gYXJyLmZpbmRJbmRleChwID0+IHAuaWQgPT09IGlkKTsgaWYgKGlkeCA8IDApIHJldHVyblxyXG4gICAgICAgIGlmIChlKSBlLmNhbmNlbEJ1YmJsZSA9IHRydWVcclxuICAgICAgICB1cGRhdGVQaWVjZUF0KGlkeCwgeyBjdXJyZW50WDogeCwgY3VycmVudFk6IHkgfSlcclxuICAgIH0pXHJcbiAgICBjb25zdCBvbkRyYWdFbmQgPSAoaWQ6IHN0cmluZywgZT86IGFueSkgPT4ge1xyXG4gICAgICAgIGlmICh6cC5pc1Bhbm5pbmcpIHJldHVyblxyXG4gICAgICAgIGlmIChpc0xvY2tlZEJ5T3RoZXIoaWQpKSByZXR1cm5cclxuICAgICAgICBjb25zdCB5UGllY2VzID0geVBpZWNlc1JlZi5jdXJyZW50XHJcbiAgICAgICAgaWYgKCF5UGllY2VzKSByZXR1cm5cclxuICAgICAgICBjb25zdCBhcnIgPSB5UGllY2VzLnRvQXJyYXkoKVxyXG4gICAgICAgIGNvbnN0IGlkeCA9IGFyci5maW5kSW5kZXgocCA9PiBwLmlkID09PSBpZCk7IGlmIChpZHggPCAwKSByZXR1cm5cclxuICAgICAgICBjb25zdCBwID0gYXJyW2lkeF1cclxuICAgICAgICBjb25zdCBuZWFyID0gTWF0aC5oeXBvdChwLmN1cnJlbnRYIC0gcC50YXJnZXRYLCBwLmN1cnJlbnRZIC0gcC50YXJnZXRZKVxyXG4gICAgICAgIGNvbnN0IHJvdE9rID0gTWF0aC5hYnMoKHAuY3VycmVudFJvdGF0aW9uIHx8IDApIC0gMCkgPD0gUk9UX1NOQVBfREVHXHJcbiAgICAgICAgaWYgKG5lYXIgPD0gU05BUF9QWCAmJiByb3RPaykge1xyXG4gICAgICAgICAgICB1cGRhdGVQaWVjZUF0KGlkeCwge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFg6IE1hdGgucm91bmQocC50YXJnZXRYKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRZOiBNYXRoLnJvdW5kKHAudGFyZ2V0WSksXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50Um90YXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBwbGFjZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlKSBlLmNhbmNlbEJ1YmJsZSA9IHRydWVcclxuICAgICAgICByZWxlYXNlTG9jayhpZClcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmlld3BvcnQudyA9PT0gMCB8fCB2aWV3cG9ydC5oID09PSAwKSByZXR1cm4gbnVsbFxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2ZpeGVkJywgaW5zZXQ6IDAsIGN1cnNvcjogenAuY3Vyc29yIH19PlxyXG4gICAgICAgICAgICA8Q29udHJvbHMgc2V0U2NhbGU9e3pwLnNldFNjYWxlfSByZXNldFZpZXc9eygpID0+IHsgenAuc2V0U2NhbGUoMSk7IHpwLnNldFN0YWdlUG9zKHsgeDogMCwgeTogMCB9KSB9fSAvPlxyXG5cclxuICAgICAgICAgICAgPFN0YWdlXHJcbiAgICAgICAgICAgICAgICB3aWR0aD17dmlld3BvcnQud31cclxuICAgICAgICAgICAgICAgIGhlaWdodD17dmlld3BvcnQuaH1cclxuICAgICAgICAgICAgICAgIHJlZj17c3RhZ2VSZWZ9XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU9e3pwLmRyYWdnYWJsZX1cclxuICAgICAgICAgICAgICAgIHg9e3pwLnN0YWdlUG9zLnh9XHJcbiAgICAgICAgICAgICAgICB5PXt6cC5zdGFnZVBvcy55fVxyXG4gICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e3pwLm9uU3RhZ2VEcmFnU3RhcnR9XHJcbiAgICAgICAgICAgICAgICBvbkRyYWdFbmQ9e3pwLm9uU3RhZ2VEcmFnRW5kfVxyXG4gICAgICAgICAgICAgICAgLy8g0JLQkNCW0J3Qnjog0Y3RgtC+INC30LDRgdGC0LDQstC70Y/QtdGCINC60YPRgNGB0L7RgCDCq9C20LjRgtGMwrsg0LLQviDQstGA0LXQvNGPIGRyYWdcclxuICAgICAgICAgICAgICAgIG9uRHJhZ01vdmU9e3VwZGF0ZU15Q3Vyc29yfVxyXG4gICAgICAgICAgICAgICAgc2NhbGVYPXt6cC5zY2FsZX1cclxuICAgICAgICAgICAgICAgIHNjYWxlWT17enAuc2NhbGV9XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlTW92ZT17dXBkYXRlTXlDdXJzb3J9XHJcbiAgICAgICAgICAgICAgICBvblRvdWNoTW92ZT17dXBkYXRlTXlDdXJzb3J9XHJcbiAgICAgICAgICAgICAgICBvbldoZWVsPXt6cC5vbldoZWVsfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8QmFja2dyb3VuZFByZXZpZXcgaW1nPXtpbWcgYXMgYW55fSB3aWR0aD17bWV0YS53aWR0aH0gaGVpZ2h0PXttZXRhLmhlaWdodH0gLz5cclxuXHJcbiAgICAgICAgICAgICAgICB7aW1nICYmIHBpZWNlcy5tYXAoKHBpZWNlKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFBpZWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cGllY2UuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZz17aW1nIGFzIGFueX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YVc9e21ldGEud2lkdGh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFIPXttZXRhLmhlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGllY2U9e3BpZWNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NrPXtsb2Nrc1ZpZXcuZ2V0KHBpZWNlLmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQYW5uaW5nPXt6cC5pc1Bhbm5pbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Q2xpZW50SWQ9e3Byb3ZpZGVyUmVmLmN1cnJlbnQ/LmF3YXJlbmVzcy5jbGllbnRJRCBhcyBudW1iZXIgfCB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXtvbkRyYWdTdGFydH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnTW92ZT17b25EcmFnTW92ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kPXtvbkRyYWdFbmR9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICkpfVxyXG5cclxuICAgICAgICAgICAgICAgIDxDdXJzb3JMYXllciBjdXJzb3JzPXtyZW1vdGVDdXJzb3JzfSAvPlxyXG4gICAgICAgICAgICAgICAgPFBvY2tldCBib2FyZFc9e3ZpZXdwb3J0Lnd9IHZpZXdIPXt2aWV3cG9ydC5ofSBib2FyZEg9e21ldGEuaGVpZ2h0fSAvPlxyXG4gICAgICAgICAgICA8L1N0YWdlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiU3RhZ2UiLCJ1c2VJbWFnZSIsIlkiLCJXZWJzb2NrZXRQcm92aWRlciIsIkJhY2tncm91bmRQcmV2aWV3IiwiUGllY2UiLCJDdXJzb3JMYXllciIsIlBvY2tldCIsIkNvbnRyb2xzIiwidXNlWm9vbVBhbiIsInJhZlRocm90dGxlIiwiUk9UX1NOQVBfREVHIiwiU05BUF9QWCIsIm1ha2VNZXRhU2lnIiwicmFuZG9tQ29sb3IiLCJyYW5kb21OYW1lIiwiUHV6emxlQm9hcmQiLCJzZXNzaW9uSWQiLCJtZXRhIiwiaW5pdGlhbFBpZWNlcyIsImltZyIsImltYWdlVXJsIiwicGllY2VzIiwic2V0UGllY2VzIiwicmVtb3RlQ3Vyc29ycyIsInNldFJlbW90ZUN1cnNvcnMiLCJsb2Nrc1ZpZXciLCJzZXRMb2Nrc1ZpZXciLCJNYXAiLCJ2aWV3cG9ydCIsInNldFZpZXdwb3J0IiwidyIsImgiLCJ1cGQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YWdlUmVmIiwienAiLCJkb2NSZWYiLCJwcm92aWRlclJlZiIsInlQaWVjZXNSZWYiLCJ5TG9ja3NSZWYiLCJ5TWV0YVJlZiIsImluaXRlZFJlZiIsIm15TmFtZVJlZiIsIm15Q29sb3JSZWYiLCJkb2MiLCJEb2MiLCJ5d3MiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfWVdTX1VSTCIsInByb3ZpZGVyIiwiY29ubmVjdCIsInlQaWVjZXMiLCJnZXRBcnJheSIsInlMb2NrcyIsImdldE1hcCIsInlNZXRhIiwiY3VycmVudCIsImF3YXJlbmVzcyIsInNldExvY2FsU3RhdGUiLCJuYW1lIiwiY29sb3IiLCJ4IiwieSIsIm9uY2UiLCJleHBlY3RlZENvdW50Iiwicm93cyIsImNvbHMiLCJjdXJyZW50Q291bnQiLCJsZW5ndGgiLCJjdXJyZW50U2lnIiwiZ2V0IiwibmV3U2lnIiwibXVzdFJlc2V0IiwidHJhbnNhY3QiLCJkZWxldGUiLCJmb3JFYWNoIiwicCIsInB1c2giLCJjbGVhciIsInNldCIsInRvQXJyYXkiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwic3ViUGllY2VzIiwic3ViTG9ja3MiLCJvYnNlcnZlIiwib25Bd2FyZW5lc3NDaGFuZ2UiLCJzdGF0ZXMiLCJnZXRTdGF0ZXMiLCJtaW5lSWQiLCJjbGllbnRJRCIsImxpdmUiLCJTZXQiLCJfc3QiLCJpZCIsImFkZCIsInJlbW90ZXMiLCJzdCIsInlMIiwiY2hhbmdlZCIsImxvY2siLCJwaWQiLCJoYXMiLCJieSIsIm9uIiwidW5vYnNlcnZlIiwib2ZmIiwiZGVzdHJveSIsIndpZHRoIiwiaGVpZ2h0Iiwic2VlZCIsInBvaW50ZXJUb1dvcmxkIiwic3RhZ2UiLCJnZXRQb2ludGVyUG9zaXRpb24iLCJzeCIsInNjYWxlWCIsInN5Iiwic2NhbGVZIiwidHgiLCJ0eSIsInVwZGF0ZU15Q3Vyc29yIiwic2V0TG9jYWxTdGF0ZUZpZWxkIiwibXlJZCIsImFjcXVpcmVMb2NrIiwicGllY2VJZCIsIm93bmVySWQiLCJjdXIiLCJpbmZvIiwidHMiLCJEYXRlIiwibm93IiwicmVsZWFzZUxvY2siLCJpc0xvY2tlZEJ5T3RoZXIiLCJ1cGRhdGVQaWVjZUF0IiwiaWR4IiwicGF0Y2giLCJuZXh0IiwiaW5zZXJ0Iiwib25EcmFnU3RhcnQiLCJ0YXJnZXQiLCJlIiwiaXNQYW5uaW5nIiwic3RvcERyYWciLCJ4MCIsInRvIiwiZHVyYXRpb24iLCJjYW5jZWxCdWJibGUiLCJvbkRyYWdNb3ZlIiwiYXJyIiwiZmluZEluZGV4IiwiY3VycmVudFgiLCJjdXJyZW50WSIsIm9uRHJhZ0VuZCIsIm5lYXIiLCJNYXRoIiwiaHlwb3QiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsInJvdE9rIiwiYWJzIiwiY3VycmVudFJvdGF0aW9uIiwicm91bmQiLCJwbGFjZWQiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwiaW5zZXQiLCJjdXJzb3IiLCJzZXRTY2FsZSIsInJlc2V0VmlldyIsInNldFN0YWdlUG9zIiwicmVmIiwiZHJhZ2dhYmxlIiwic3RhZ2VQb3MiLCJvblN0YWdlRHJhZ1N0YXJ0Iiwib25TdGFnZURyYWdFbmQiLCJzY2FsZSIsIm9uTW91c2VNb3ZlIiwib25Ub3VjaE1vdmUiLCJvbldoZWVsIiwibWFwIiwicGllY2UiLCJtZXRhVyIsIm1ldGFIIiwibXlDbGllbnRJZCIsImN1cnNvcnMiLCJib2FyZFciLCJ2aWV3SCIsImJvYXJkSCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/PuzzleBoard.tsx\n"));

/***/ })

});